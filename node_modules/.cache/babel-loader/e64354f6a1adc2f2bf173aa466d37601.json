{"ast":null,"code":"import _classCallCheck from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/aziz/Bureau/ap/src/views/ProfileView/ProfileView.js\";\n\n/* eslint-disable import/no-extraneous-dependencies */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n/* eslint-disable react/no-array-index-key */\n\n/* eslint-disable radix */\n\n/* eslint-disable no-alert */\n\n/* eslint-disable consistent-return */\n\n/* eslint-disable class-methods-use-this */\n\n/* eslint-disable no-param-reassign */\n\n/* eslint-disable react/destructuring-assignment */\n\n/* eslint-disable react/no-access-state-in-setstate */\n\n/* eslint-disable guard-for-in */\n\n/* eslint-disable no-restricted-syntax */\n\n/* eslint-disable no-console */\n\n/* eslint-disable no-undef */\nimport React, { Component, Fragment } from 'react';\nimport { Container, Row } from 'shards-react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport MaterialTable from 'material-table';\nimport SlidingPane from 'react-sliding-pane';\nimport Modal from 'react-modal';\nimport USERForm from './USER/USERForm';\nimport PageTitle from '../../components/common/PageTitle';\nimport { Config } from '../../configue';\nimport USERRow2 from './USER/USERRow2';\nimport '../../style/scrollerdesign.css';\nimport '../../style/scrollerdesign2.css';\n\nvar ProfileView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProfileView, _Component);\n\n  function ProfileView() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProfileView);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProfileView)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      isPaneOpen: false,\n      USER: []\n    };\n\n    _this.componentDidMount = function () {\n      Modal.setAppElement('body');\n\n      _this.getUSER().then(function (USER) {\n        console.log('USER.data');\n        console.log(USER.data);\n\n        _this.setState({\n          USER: USER.data\n        });\n      });\n    };\n\n    _this.getUSER = function () {\n      var datas = fetch(\"\".concat(Config.url, \"/User\")).then(function (reponse) {\n        return reponse.json(); // })\n        // .then(({ data }) => {\n      }).catch(function (err) {\n        return console.error(err);\n      });\n      console.log(datas);\n      return datas;\n    };\n\n    _this.editUSER = function (index, change) {\n      var USER = _this.state.USER;\n      var USERs = USER[index];\n\n      for (var i in change) {\n        USERs[i] = change[i];\n      }\n\n      _this.updateMethodeUSER(USERs);\n\n      _this.setState({\n        USER: USER\n      });\n    };\n\n    _this.deleteUSER = function (index) {\n      var USER = _this.state.USER;\n      var USERDeleted = USER[index];\n      USER.splice(index, 1);\n\n      _this.setState({\n        USER: USER\n      });\n\n      _this.deleteMethodeUSER(USERDeleted.idUSER);\n    };\n\n    _this.addUSER = function (a, idUSER) {\n      var USER = _this.state.USER;\n      a.idUSER = idUSER;\n      USER.push(a);\n\n      _this.setState({\n        isPaneOpen: false,\n        isPopoverOpen: !_this.state.isPopoverOpen,\n        USER: USER\n      });\n    };\n\n    _this.RoleMethode = function (a) {\n      switch (a) {\n        case 0:\n          return 'Admin';\n\n        case 1:\n          return 'user';\n\n        case 2:\n          return 'simple user';\n\n        default:\n          break;\n      }\n    };\n\n    _this.renderActionF2 = function () {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \" Ajouter USER\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }), React.createElement(USERForm, {\n        USER: _this.state.USER,\n        addUSER: _this.addUSER,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(ProfileView, [{\n    key: \"deleteMethodeUSER\",\n    value: function deleteMethodeUSER(a) {\n      var encodedKeyids = encodeURIComponent('ids');\n      var encodedvalids = encodeURIComponent(a);\n      var formbody = [\"\".concat(encodedKeyids, \"=\").concat(encodedvalids)];\n      fetch(\"\".concat(Config.url, \"/User/delete\"), {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n\n        },\n        body: formbody // <-- Post parameters\n\n      }).then(function (response) {\n        return response.json();\n      }).then(function (responseText) {\n        alert(responseText);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"updateMethodeUSER\",\n    value: function updateMethodeUSER(a) {\n      var encodedKeyid = encodeURIComponent('idUSER');\n      var encodedKeyname = encodeURIComponent('USERName');\n      var encodedKeypassword = encodeURIComponent('password');\n      var encodedKeyRole = encodeURIComponent('Role');\n      var encodedvalid = encodeURIComponent(a.idUSER);\n      var encodedvalname = encodeURIComponent(a.USERName);\n      var encodedvalpassword = encodeURIComponent(a.password);\n      var encodedvalRole = encodeURIComponent(parseInt(a.Role));\n      var formbody = [\"\".concat(encodedKeyid, \"=\").concat(encodedvalid), \"\".concat(encodedKeyname, \"=\").concat(encodedvalname), \"\".concat(encodedKeypassword, \"=\").concat(encodedvalpassword), \"\".concat(encodedKeyRole, \"=\").concat(encodedvalRole)];\n      formbody = formbody.join('&');\n      fetch(\"\".concat(Config.url, \"/User/update\"), {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n\n        },\n        body: formbody // <-- Post parameters\n\n      }).then(function (responseText) {\n        console.log(responseText);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var USER = this.state.USER;\n      var USERListe2 = USER.map(function (valeur, index) {\n        var v = {\n          id: index,\n          name: valeur.USERName,\n          password: valeur.password,\n          role: _this2.RoleMethode(valeur.Role),\n          actions: React.createElement(USERRow2, {\n            detail: valeur,\n            key: index,\n            index: index,\n            edit: _this2.editUSER,\n            delete: _this2.deleteUSER,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 200\n            },\n            __self: this\n          })\n        };\n        return v;\n      });\n      var columns = [{\n        title: 'id',\n        field: 'id',\n        headerStyle: {\n          zIndex: 0\n        }\n      }, {\n        title: 'Nom ',\n        field: 'name',\n        headerStyle: {\n          zIndex: 0\n        }\n      }, {\n        title: 'Mote de passe',\n        field: 'password',\n        headerStyle: {\n          zIndex: 0\n        }\n      }, {\n        title: 'Role',\n        field: 'role',\n        headerStyle: {\n          zIndex: 0\n        }\n      }, {\n        title: 'actions',\n        field: 'actions',\n        headerStyle: {\n          zIndex: 0\n        }\n      }];\n      return React.createElement(Container, {\n        fluid: true,\n        className: \"main-content-container px-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(Row, {\n        noGutters: true,\n        className: \"page-header py-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(PageTitle, {\n        title: \" Page Des USER\",\n        subtitle: \"agTEK\",\n        className: \"text-sm-left mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      })), React.createElement(MaterialTable, {\n        columns: columns,\n        data: USERListe2,\n        title: React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          onClick: function onClick() {\n            return _this2.setState({\n              isPaneOpen: !_this2.state.isPaneOpen\n            });\n          },\n          className: \"AddButton\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, \"Liste des Profiles \\xA0 \\xA0\", React.createElement(FontAwesomeIcon, {\n          size: \"lg\",\n          icon: faPlus,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }))))),\n        options: {\n          columnsButton: true,\n          maxBodyHeight: '50vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }), React.createElement(SlidingPane, {\n        className: \"some-custom-class\",\n        overlayClassName: \"some-custom-overlay-class\",\n        isOpen: this.state.isPaneOpen,\n        title: \"Fermer\",\n        subtitle: \"Fermer ajout de Regime.\",\n        width: \"50%\",\n        onRequestClose: function onRequestClose() {\n          _this2.setState({\n            isPaneOpen: false\n          }); // triggered on \"<\" on left top click or on outside click\n\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, this.renderActionF2()));\n    }\n  }]);\n\n  return ProfileView;\n}(Component);\n\nexport default ProfileView;","map":{"version":3,"sources":["/home/aziz/Bureau/ap/src/views/ProfileView/ProfileView.js"],"names":["React","Component","Fragment","Container","Row","FontAwesomeIcon","faPlus","MaterialTable","SlidingPane","Modal","USERForm","PageTitle","Config","USERRow2","ProfileView","state","isPaneOpen","USER","componentDidMount","setAppElement","getUSER","then","console","log","data","setState","datas","fetch","url","reponse","json","catch","err","error","editUSER","index","change","USERs","i","updateMethodeUSER","deleteUSER","USERDeleted","splice","deleteMethodeUSER","idUSER","addUSER","a","push","isPopoverOpen","RoleMethode","renderActionF2","encodedKeyids","encodeURIComponent","encodedvalids","formbody","method","headers","Accept","body","response","responseText","alert","encodedKeyid","encodedKeyname","encodedKeypassword","encodedKeyRole","encodedvalid","encodedvalname","USERName","encodedvalpassword","password","encodedvalRole","parseInt","Role","join","USERListe2","map","valeur","v","id","name","role","actions","columns","title","field","headerStyle","zIndex","columnsButton","maxBodyHeight"],"mappings":"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","sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\n/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable radix */\n/* eslint-disable no-alert */\n/* eslint-disable consistent-return */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-param-reassign */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable react/no-access-state-in-setstate */\n/* eslint-disable guard-for-in */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable no-console */\n/* eslint-disable no-undef */\nimport React, { Component, Fragment } from 'react';\nimport { Container, Row } from 'shards-react';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport MaterialTable from 'material-table';\nimport SlidingPane from 'react-sliding-pane';\nimport Modal from 'react-modal';\nimport USERForm from './USER/USERForm';\n\nimport PageTitle from '../../components/common/PageTitle';\nimport { Config } from '../../configue';\nimport USERRow2 from './USER/USERRow2';\nimport '../../style/scrollerdesign.css';\nimport '../../style/scrollerdesign2.css';\n\nclass ProfileView extends Component {\n  state = {\n    isPaneOpen: false,\n    USER: []\n  };\n\n  componentDidMount = () => {\n    Modal.setAppElement('body');\n\n    this.getUSER().then(USER => {\n      console.log('USER.data');\n      console.log(USER.data);\n      this.setState({\n        USER: USER.data\n      });\n    });\n  };\n\n  getUSER = () => {\n    const datas = fetch(`${Config.url}/User`)\n      .then(reponse => {\n        return reponse.json();\n        // })\n        // .then(({ data }) => {\n      })\n      .catch(err => console.error(err));\n    console.log(datas);\n\n    return datas;\n  };\n\n  editUSER = (index, change) => {\n    const { USER } = this.state;\n    const USERs = USER[index];\n    for (const i in change) {\n      USERs[i] = change[i];\n    }\n    this.updateMethodeUSER(USERs);\n\n    this.setState({\n      USER\n    });\n  };\n\n  deleteUSER = index => {\n    const { USER } = this.state;\n    const USERDeleted = USER[index];\n\n    USER.splice(index, 1);\n    this.setState({ USER });\n    this.deleteMethodeUSER(USERDeleted.idUSER);\n  };\n\n  addUSER = (a, idUSER) => {\n    const { USER } = this.state;\n    a.idUSER = idUSER;\n    USER.push(a);\n    this.setState({\n      isPaneOpen: false,\n      isPopoverOpen: !this.state.isPopoverOpen,\n      USER\n    });\n  };\n\n  RoleMethode = a => {\n    switch (a) {\n      case 0:\n        return 'Admin';\n      case 1:\n        return 'user';\n      case 2:\n        return 'simple user';\n      default:\n        break;\n    }\n  };\n\n  deleteMethodeUSER(a) {\n    const encodedKeyids = encodeURIComponent('ids');\n\n    const encodedvalids = encodeURIComponent(a);\n\n    const formbody = [`${encodedKeyids}=${encodedvalids}`];\n\n    fetch(`${Config.url}/User/delete`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(response => response.json())\n      .then(responseText => {\n        alert(responseText);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }\n\n  updateMethodeUSER(a) {\n    const encodedKeyid = encodeURIComponent('idUSER');\n    const encodedKeyname = encodeURIComponent('USERName');\n    const encodedKeypassword = encodeURIComponent('password');\n    const encodedKeyRole = encodeURIComponent('Role');\n\n    const encodedvalid = encodeURIComponent(a.idUSER);\n    const encodedvalname = encodeURIComponent(a.USERName);\n    const encodedvalpassword = encodeURIComponent(a.password);\n    const encodedvalRole = encodeURIComponent(parseInt(a.Role));\n\n    let formbody = [\n      `${encodedKeyid}=${encodedvalid}`,\n      `${encodedKeyname}=${encodedvalname}`,\n      `${encodedKeypassword}=${encodedvalpassword}`,\n      `${encodedKeyRole}=${encodedvalRole}`\n    ];\n    formbody = formbody.join('&');\n\n    fetch(`${Config.url}/User/update`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(responseText => {\n        console.log(responseText);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }\n\n  renderActionF2 = () => {\n    return (\n      <Fragment>\n        {/* Page Header */}\n\n        <Row>\n          <h4> Ajouter USER</h4>\n        </Row>\n        <br />\n        <br />\n        <br />\n\n        <USERForm USER={this.state.USER} addUSER={this.addUSER} />\n\n        {/* Default Light Table */}\n      </Fragment>\n    );\n  };\n\n  render() {\n    const { USER } = this.state;\n\n    const USERListe2 = USER.map((valeur, index) => {\n      const v = {\n        id: index,\n        name: valeur.USERName,\n        password: valeur.password,\n\n        role: this.RoleMethode(valeur.Role),\n\n        actions: (\n          <USERRow2\n            detail={valeur}\n            key={index}\n            index={index}\n            edit={this.editUSER}\n            delete={this.deleteUSER}\n          />\n        )\n      };\n      return v;\n    });\n    const columns = [\n      {\n        title: 'id',\n        field: 'id',\n        headerStyle: { zIndex: 0 }\n      },\n      {\n        title: 'Nom ',\n        field: 'name',\n        headerStyle: { zIndex: 0 }\n      },\n      {\n        title: 'Mote de passe',\n        field: 'password',\n        headerStyle: { zIndex: 0 }\n      },\n\n      {\n        title: 'Role',\n        field: 'role',\n        headerStyle: { zIndex: 0 }\n      },\n      {\n        title: 'actions',\n        field: 'actions',\n        headerStyle: { zIndex: 0 }\n      }\n    ];\n\n    return (\n      <Container fluid className=\"main-content-container px-4\">\n        <Row noGutters className=\"page-header py-4\">\n          <PageTitle\n            title=\" Page Des USER\"\n            subtitle=\"agTEK\"\n            className=\"text-sm-left mb-3\"\n          />\n        </Row>\n\n        <MaterialTable\n          columns={columns}\n          data={USERListe2}\n          title={\n            <Row>\n              <center>\n                <a\n                  onClick={() =>\n                    this.setState({ isPaneOpen: !this.state.isPaneOpen })\n                  }\n                  className=\"AddButton\"\n                >\n                  <center>\n                    Liste des Profiles &nbsp; &nbsp;\n                    <FontAwesomeIcon size=\"lg\" icon={faPlus} />\n                  </center>\n                </a>\n              </center>\n            </Row>\n          }\n          options={{\n            columnsButton: true,\n            maxBodyHeight: '50vh'\n          }}\n        />\n        <SlidingPane\n          className=\"some-custom-class\"\n          overlayClassName=\"some-custom-overlay-class\"\n          isOpen={this.state.isPaneOpen}\n          title=\"Fermer\"\n          subtitle=\"Fermer ajout de Regime.\"\n          width=\"50%\"\n          onRequestClose={() => {\n            this.setState({\n              isPaneOpen: false\n            });\n\n            // triggered on \"<\" on left top click or on outside click\n          }}\n        >\n          {this.renderActionF2()}\n        </SlidingPane>\n      </Container>\n    );\n  }\n}\n\nexport default ProfileView;\n"]},"metadata":{},"sourceType":"module"}