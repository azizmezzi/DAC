{"ast":null,"code":"import _defineProperty from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/aziz/Bureau/ap/src/views/StatistiqueView/statistique/Footer.js\";\n\n/* eslint-disable radix */\nimport React, { Component } from 'react'; // import ReactDOM from 'react-dom';\n\nimport { Row, Col, Button, FormSelect, CardFooter } from 'shards-react';\nimport '../../../style/scrollerdesign.css';\nimport '../../../style/scrollerdesign2.css';\nimport RangeDatePicker from './RangeDatePicker';\nimport { Config } from '../../../configue';\n\nvar FooterStat =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FooterStat, _Component);\n\n  function FooterStat() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FooterStat);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FooterStat)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      vache: [],\n      idDAC: 0,\n      idCow: 0,\n      DAC: [],\n      // eslint-disable-next-line react/no-unused-state\n      startDate: '',\n      // eslint-disable-next-line react/no-unused-state\n      endDate: ''\n    };\n\n    _this.componentDidMount = function () {\n      _this.getVaches().then(function (vaches) {\n        _this.setState({\n          vache: vaches.data\n        });\n      });\n\n      _this.getDAC().then(function (DAC) {\n        _this.setState({\n          // eslint-disable-next-line react/no-unused-state\n          DAC: DAC.data\n        });\n      });\n    };\n\n    _this.getVaches = function () {\n      // eslint-disable-next-line no-undef\n      var datas = fetch(\"\".concat(Config.url, \"/vaches\")).then(function (reponse) {\n        return reponse.json(); // })\n        // .then(({ data }) => {\n      }) // eslint-disable-next-line no-console\n      .catch(function (err) {\n        return console.error(err);\n      });\n      return datas;\n    };\n\n    _this.getDAC = function () {\n      // eslint-disable-next-line no-undef\n      var datas = fetch(\"\".concat(Config.url, \"/DAC\")).then(function (reponse) {\n        return reponse.json(); // })\n        // .then(({ data }) => {\n      }).catch(function (err) {\n        return console.error(err);\n      });\n      console.log(datas);\n      return datas;\n    };\n\n    _this.setDate = function (startDate, endDate) {\n      // eslint-disable-next-line react/no-unused-state\n      _this.setState({\n        startDate: startDate,\n        endDate: endDate\n      });\n    };\n\n    _this.statistiquePostMethode = function (stat) {\n      var post = JSON.stringify({\n        idCow: JSON.stringify(stat.idCow),\n        idDAC: JSON.stringify(stat.idDAC),\n        startDate: JSON.stringify(stat.startDate),\n        endDate: JSON.stringify(stat.endDate)\n      }); // eslint-disable-next-line no-useless-concat\n\n      var formbody = [\"\".concat('post' + '=').concat(post)]; // eslint-disable-next-line no-undef\n\n      fetch(\"\".concat(Config.url, \"/Log/stat\"), {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n\n        },\n        body: formbody // <-- Post parameters\n\n      }).then(function (responseText) {\n        return responseText.json();\n      }).catch(function (error) {\n        console.error(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(FooterStat, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          DAC = _this$state.DAC,\n          vache = _this$state.vache;\n      var ListDAC = DAC.map(function (value, index) {\n        return (// eslint-disable-next-line react/no-array-index-key\n          React.createElement(\"option\", {\n            value: value.idDAC,\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }, value.DACName)\n        );\n      });\n      var ListVache = vache.map(function (value, index) {\n        return (// eslint-disable-next-line react/no-array-index-key\n          React.createElement(\"option\", {\n            value: value.id,\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, value.name)\n        );\n      });\n      return React.createElement(CardFooter, {\n        className: \"border-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(FormSelect, {\n        id: \"idDAC\",\n        size: \"sm\",\n        style: {\n          maxWidth: '130px'\n        },\n        onChange: function onChange(e) {\n          _this2.setState(_defineProperty({}, e.target.id, parseInt(e.target.value)));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \" tous les DAC\"), ListDAC)), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(FormSelect, {\n        id: \"idCow\",\n        size: \"sm\",\n        style: {\n          maxWidth: '130px'\n        },\n        onChange: function onChange(e) {\n          _this2.setState(_defineProperty({}, e.target.id, parseInt(e.target.value)));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"tous les vaches\"), ListVache)), React.createElement(Col, {\n        sm: \"6\",\n        className: \"d-flex mb-2 mb-sm-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(RangeDatePicker, {\n        setDate: this.setDate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })), React.createElement(Col, {\n        className: \"text-right view-report\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"sm\",\n        className: \"d-flex btn-white ml-auto mr-auto ml-sm-auto mr-sm-0 mt-3 mt-sm-0\",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          console.log(_this2.state);\n\n          _this2.statistiquePostMethode(_this2.state);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"diagramme \\u2192\"))));\n    }\n  }]);\n\n  return FooterStat;\n}(Component);\n\nexport default FooterStat;","map":{"version":3,"sources":["/home/aziz/Bureau/ap/src/views/StatistiqueView/statistique/Footer.js"],"names":["React","Component","Row","Col","Button","FormSelect","CardFooter","RangeDatePicker","Config","FooterStat","state","vache","idDAC","idCow","DAC","startDate","endDate","componentDidMount","getVaches","then","vaches","setState","data","getDAC","datas","fetch","url","reponse","json","catch","err","console","error","log","setDate","statistiquePostMethode","stat","post","JSON","stringify","formbody","method","headers","Accept","body","responseText","ListDAC","map","value","index","DACName","ListVache","id","name","maxWidth","e","target","parseInt","preventDefault"],"mappings":"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","sourcesContent":["/* eslint-disable radix */\nimport React, { Component } from 'react';\n// import ReactDOM from 'react-dom';\n\nimport { Row, Col, Button, FormSelect, CardFooter } from 'shards-react';\n\nimport '../../../style/scrollerdesign.css';\nimport '../../../style/scrollerdesign2.css';\nimport RangeDatePicker from './RangeDatePicker';\nimport { Config } from '../../../configue';\n\nclass   FooterStat extends Component {\n  state = {\n    vache: [],\n    idDAC: 0,\n    idCow: 0,\n    DAC: [],\n    // eslint-disable-next-line react/no-unused-state\n    startDate: '',\n    // eslint-disable-next-line react/no-unused-state\n    endDate: ''\n  };\n\n  componentDidMount = () => {\n    this.getVaches().then(vaches => {\n      this.setState({\n        vache: vaches.data\n      });\n    });\n    this.getDAC().then(DAC => {\n      this.setState({\n        // eslint-disable-next-line react/no-unused-state\n        DAC: DAC.data\n      });\n    });\n  };\n\n  getVaches = () => {\n    // eslint-disable-next-line no-undef\n    const datas = fetch(`${Config.url}/vaches`)\n      .then(reponse => {\n        return reponse.json();\n        // })\n        // .then(({ data }) => {\n      })\n      // eslint-disable-next-line no-console\n      .catch(err => console.error(err));\n\n    return datas;\n  };\n\n  getDAC = () => {\n    // eslint-disable-next-line no-undef\n    const datas = fetch(`${Config.url}/DAC`)\n      .then(reponse => {\n        return reponse.json();\n        // })\n        // .then(({ data }) => {\n      })\n      .catch(err => console.error(err));\n    console.log(datas);\n\n    return datas;\n  };\n\n  setDate = (startDate, endDate) => {\n    // eslint-disable-next-line react/no-unused-state\n    this.setState({ startDate, endDate });\n  };\n\n  statistiquePostMethode = stat => {\n    const post = JSON.stringify({\n      idCow: JSON.stringify(stat.idCow),\n      idDAC: JSON.stringify(stat.idDAC),\n      startDate: JSON.stringify(stat.startDate),\n      endDate: JSON.stringify(stat.endDate)\n    });\n    // eslint-disable-next-line no-useless-concat\n    const formbody = [`${'post' + '='}${post}`];\n    // eslint-disable-next-line no-undef\n    fetch(`${Config.url}/Log/stat`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(responseText => {\n        return responseText.json();\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  };\n\n  render() {\n    const { DAC, vache } = this.state;\n    const ListDAC = DAC.map((value, index) => {\n      return (\n        // eslint-disable-next-line react/no-array-index-key\n        <option value={value.idDAC} key={index}>\n          {value.DACName}\n        </option>\n      );\n    });\n\n    const ListVache = vache.map((value, index) => {\n      return (\n        // eslint-disable-next-line react/no-array-index-key\n        <option value={value.id} key={index}>\n          {value.name}\n        </option>\n      );\n    });\n    return (\n      <CardFooter className=\"border-top\">\n        <Row>\n          <Col>\n            <FormSelect\n              id=\"idDAC\"\n              size=\"sm\"\n              style={{ maxWidth: '130px' }}\n              onChange={e => {\n                this.setState({ [e.target.id]: parseInt(e.target.value) });\n              }}\n            >\n              <option value={0}> tous les DAC</option>\n              {ListDAC}\n            </FormSelect>\n          </Col>\n          <Col>\n            <FormSelect\n              id=\"idCow\"\n              size=\"sm\"\n              style={{ maxWidth: '130px' }}\n              onChange={e => {\n                this.setState({ [e.target.id]: parseInt(e.target.value) });\n              }}\n            >\n              <option value={0}>tous les vaches</option>\n              {ListVache}\n            </FormSelect>\n          </Col>\n          <Col sm=\"6\" className=\"d-flex mb-2 mb-sm-0\">\n            <RangeDatePicker setDate={this.setDate} />\n          </Col>\n\n          <Col className=\"text-right view-report\">\n            <Button\n              size=\"sm\"\n              className=\"d-flex btn-white ml-auto mr-auto ml-sm-auto mr-sm-0 mt-3 mt-sm-0\"\n              onClick={e => {\n                e.preventDefault();\n                console.log(this.state);\n                this.statistiquePostMethode(this.state);\n              }}\n            >\n              diagramme &rarr;\n            </Button>\n          </Col>\n        </Row>\n      </CardFooter>\n    );\n  }\n}\nexport default FooterStat;\n"]},"metadata":{},"sourceType":"module"}