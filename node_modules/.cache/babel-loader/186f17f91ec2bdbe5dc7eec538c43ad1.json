{"ast":null,"code":"import _defineProperty from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/aziz/Bureau/project/ap/src/views/RegimeView/Diet/formDiet.js\";\n\n/* eslint-disable jsx-a11y/label-has-associated-control */\n\n/* eslint-disable jsx-a11y/label-has-for */\n\n/* eslint-disable react/no-array-index-key */\n\n/* eslint-disable no-restricted-syntax */\n\n/* eslint-disable guard-for-in */\n\n/* eslint-disable no-plusplus */\n\n/* eslint-disable array-callback-return */\n\n/* eslint-disable consistent-return */\n\n/* eslint-disable no-shadow */\n\n/* eslint-disable eqeqeq */\n\n/* eslint-disable react/destructuring-assignment */\n\n/* eslint-disable no-console */\n\n/* eslint-disable no-alert */\n\n/* eslint-disable no-undef */\n\n/* eslint-disable class-methods-use-this */\nimport React, { Component } from 'react';\nimport { ListGroup, ListGroupItem, Row, Col, Form, FormInput, Button } from 'shards-react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faRedo } from '@fortawesome/free-solid-svg-icons';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport { Config } from '../../../configue';\nimport DietCreated from './Dietcreate/dietCreated';\nimport Formdietcreate from './Dietcreate/Formdietcreate';\n\nvar FormDiet =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormDiet, _Component);\n\n  function FormDiet() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FormDiet);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FormDiet)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      idDiet: 0,\n      DietName: '',\n      FooderDiet: [],\n      InvalidDietName: false,\n      validDietName: false\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    };\n\n    _this.Submiting = function (e) {\n      e.preventDefault();\n\n      if (_this.state.DietName == '') {\n        _this.setState({\n          validDietName: true,\n          InvalidDietName: false\n        });\n      } else _this.setState({\n        validDietName: false,\n        InvalidDietName: true\n      });\n\n      if (_this.state.FooderDiet.length == 0) {\n        NotificationManager.error('regime vide ', '', 2000);\n      }\n\n      var unicite = false;\n\n      if (_this.state.DietName != '') {\n        var Diets = _this.props.Diet;\n        console.log('Diets');\n        console.log(Diets);\n        var Diet = Diets.filter(function (Diet) {\n          if (Diet.DietName == _this.state.DietName) return Diet;\n        });\n        console.log('Diet');\n        console.log(Diet);\n\n        if (Diet.length == 0) {\n          unicite = true;\n        } else {\n          NotificationManager.error('Nom existant', _this.state.DietName, 3000);\n        }\n      }\n\n      if (_this.state.DietName != '' && _this.state.FooderDiet.length != 0 && unicite) {\n        _this.postMethode(_this.state).then(function (d) {\n          _this.props.add(_this.state, d.data);\n\n          var FooderDiet = _this.state.FooderDiet;\n          var leng = FooderDiet.length;\n\n          for (var i = 0; i < leng; i++) {\n            _this.postMethodeFooderDiet(FooderDiet[i], d.data);\n          }\n\n          _this.setState({\n            idDiet: 0,\n            DietName: '',\n            FooderDiet: []\n          });\n        });\n      }\n    };\n\n    _this.edit = function (index, change) {\n      var FooderDiet = _this.state.FooderDiet;\n      var FooderDiets = FooderDiet[index];\n\n      for (var i in change) {\n        FooderDiets[i] = change[i];\n      }\n\n      _this.setState({\n        FooderDiet: FooderDiet\n      });\n    };\n\n    _this.delete = function (index) {\n      var FooderDiet = _this.state.FooderDiet;\n      FooderDiet.splice(index, 1);\n\n      _this.setState({\n        FooderDiet: FooderDiet\n      }); //  this.deleteMethode(FooderDeleted.idFooder)\n\n    };\n\n    _this.add = function (a) {\n      var FooderDiet = _this.state.FooderDiet;\n      FooderDiet.push(a);\n\n      _this.setState({\n        FooderDiet: FooderDiet\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(FormDiet, [{\n    key: \"postMethode\",\n    value: function postMethode(a) {\n      var encodedKeyDietName = encodeURIComponent('DietName');\n      var encodedvalDietName = encodeURIComponent(a.DietName);\n      var formbody = [\"\".concat(encodedKeyDietName, \"=\").concat(encodedvalDietName)]; //  formbody =formbody.join(\"&\");\n\n      var data = fetch(\"\".concat(Config.url, \"/Diet\"), {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n\n        },\n        body: formbody // <-- Post parameters\n\n      }).then(function (responseText) {\n        return responseText.json();\n      }).catch(function (error) {\n        console.error(error);\n      });\n      return data;\n    }\n  }, {\n    key: \"postMethodeFooderDiet\",\n    value: function postMethodeFooderDiet(FooderDeit, idDiet) {\n      var encodedKeyidDiet = encodeURIComponent('idDiet');\n      var encodedKeyidFooder = encodeURIComponent('idFooder');\n      var encodedKeyquantite = encodeURIComponent('quantite');\n      var encodedKeyPortion = encodeURIComponent('Portion');\n      var encodedKeyPriority = encodeURIComponent('Priority');\n      var encodedvalididDiet = encodeURIComponent(idDiet);\n      var encodedvalidFooder = encodeURIComponent(FooderDeit.idFooder);\n      var encodedvalquantite = encodeURIComponent(FooderDeit.quantite);\n      var encodedvalPortion = encodeURIComponent(FooderDeit.Portion);\n      var encodedvalPriority = encodeURIComponent(FooderDeit.Priority);\n      var formbody = [\"\".concat(encodedKeyidDiet, \"=\").concat(encodedvalididDiet), \"\".concat(encodedKeyidFooder, \"=\").concat(encodedvalidFooder), \"\".concat(encodedKeyquantite, \"=\").concat(encodedvalquantite), \"\".concat(encodedKeyPortion, \"=\").concat(encodedvalPortion), \"\".concat(encodedKeyPriority, \"=\").concat(encodedvalPriority)];\n      formbody = formbody.join('&');\n      fetch(\"\".concat(Config.url, \"/FooderDiet\"), {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n\n        },\n        body: formbody // <-- Post parameters\n\n      }).then(function (response) {\n        return response.text();\n      }).then(function (responseText) {\n        alert(responseText);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var FooderDiet = this.state.FooderDiet;\n      var FooderDietListe = FooderDiet.map(function (valeur, index) {\n        return React.createElement(DietCreated, {\n          detail: valeur,\n          key: index,\n          index: index,\n          edit: _this2.edit,\n          delete: _this2.delete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        });\n      });\n      return React.createElement(ListGroup, {\n        flush: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(ListGroupItem, {\n        className: \"p-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.Submiting,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        sm: \"12\",\n        className: \"form-group mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"DietName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"Nom de Regimeaaaa\"), React.createElement(FormInput, {\n        id: \"DietName\",\n        name: \"DietName\",\n        type: \"text\",\n        placeholder: \"Regime\",\n        onChange: this.handleChange,\n        value: this.state.DietName,\n        valid: this.state.InvalidDietName,\n        invalid: this.state.validDietName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }), React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"thead-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"Fodder\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, \"Quantite par jour\", ' '), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"Portion\", ' '), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, \"Priorit\\xE9\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, FooderDietListe, React.createElement(Formdietcreate, {\n        Fooder: this.props.Fooder,\n        add: this.add,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      })))), React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }), React.createElement(Col, {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(Button, {\n        outline: true,\n        pill: true,\n        theme: \"danger\",\n        onClick: function onClick() {\n          _this2.setState({\n            idDiet: 0,\n            DietName: '',\n            FooderDiet: []\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, ' ', React.createElement(FontAwesomeIcon, {\n        size: \"lg\",\n        icon: faRedo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      })), \"\\xA0 \\xA0\\xA0 \\xA0\", React.createElement(Button, {\n        outline: true,\n        pill: true,\n        theme: \"primary\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        size: \"lg\",\n        icon: faCheck,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }))))))))), React.createElement(ListGroupItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, React.createElement(NotificationContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return FormDiet;\n}(Component);\n\nexport default FormDiet;","map":{"version":3,"sources":["/home/aziz/Bureau/project/ap/src/views/RegimeView/Diet/formDiet.js"],"names":["React","Component","ListGroup","ListGroupItem","Row","Col","Form","FormInput","Button","FontAwesomeIcon","faCheck","faRedo","NotificationContainer","NotificationManager","Config","DietCreated","Formdietcreate","FormDiet","state","idDiet","DietName","FooderDiet","InvalidDietName","validDietName","handleChange","e","setState","target","id","value","Submiting","preventDefault","length","error","unicite","Diets","props","Diet","console","log","filter","postMethode","then","d","add","data","leng","i","postMethodeFooderDiet","edit","index","change","FooderDiets","delete","splice","a","push","encodedKeyDietName","encodeURIComponent","encodedvalDietName","formbody","fetch","url","method","headers","Accept","body","responseText","json","catch","FooderDeit","encodedKeyidDiet","encodedKeyidFooder","encodedKeyquantite","encodedKeyPortion","encodedKeyPriority","encodedvalididDiet","encodedvalidFooder","idFooder","encodedvalquantite","quantite","encodedvalPortion","Portion","encodedvalPriority","Priority","join","response","text","alert","FooderDietListe","map","valeur","Fooder"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable jsx-a11y/label-has-for */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable guard-for-in */\n/* eslint-disable no-plusplus */\n/* eslint-disable array-callback-return */\n/* eslint-disable consistent-return */\n/* eslint-disable no-shadow */\n/* eslint-disable eqeqeq */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable no-console */\n/* eslint-disable no-alert */\n/* eslint-disable no-undef */\n/* eslint-disable class-methods-use-this */\nimport React, { Component } from 'react';\nimport {\n  ListGroup,\n  ListGroupItem,\n  Row,\n  Col,\n  Form,\n  FormInput,\n  Button\n} from 'shards-react';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faRedo } from '@fortawesome/free-solid-svg-icons';\nimport {\n  NotificationContainer,\n  NotificationManager\n} from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport { Config } from '../../../configue';\nimport DietCreated from './Dietcreate/dietCreated';\nimport Formdietcreate from './Dietcreate/Formdietcreate';\n\nclass FormDiet extends Component {\n  state = {\n    idDiet: 0,\n    DietName: '',\n    FooderDiet: [],\n    InvalidDietName: false,\n    validDietName: false\n  };\n\n  handleChange = e => {\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  };\n\n  Submiting = e => {\n    e.preventDefault();\n    if (this.state.DietName == '') {\n      this.setState({\n        validDietName: true,\n        InvalidDietName: false\n      });\n    } else\n      this.setState({\n        validDietName: false,\n        InvalidDietName: true\n      });\n    if (this.state.FooderDiet.length == 0) {\n      NotificationManager.error('regime vide ', '', 2000);\n    }\n    let unicite = false;\n    if (this.state.DietName != '') {\n      const Diets = this.props.Diet;\n      console.log('Diets');\n      console.log(Diets);\n      const Diet = Diets.filter(Diet => {\n        if (Diet.DietName == this.state.DietName) return Diet;\n      });\n      console.log('Diet');\n      console.log(Diet);\n      if (Diet.length == 0) {\n        unicite = true;\n      } else {\n        NotificationManager.error('Nom existant', this.state.DietName, 3000);\n      }\n    }\n    if (\n      this.state.DietName != '' &&\n      this.state.FooderDiet.length != 0 &&\n      unicite\n    ) {\n      this.postMethode(this.state).then(d => {\n        this.props.add(this.state, d.data);\n\n        const { FooderDiet } = this.state;\n        const leng = FooderDiet.length;\n        for (let i = 0; i < leng; i++) {\n          this.postMethodeFooderDiet(FooderDiet[i], d.data);\n        }\n        this.setState({\n          idDiet: 0,\n          DietName: '',\n          FooderDiet: []\n        });\n      });\n    }\n  };\n\n  edit = (index, change) => {\n    const { FooderDiet } = this.state;\n    const FooderDiets = FooderDiet[index];\n    for (const i in change) {\n      FooderDiets[i] = change[i];\n    }\n\n    this.setState({\n      FooderDiet\n    });\n  };\n\n  delete = index => {\n    const { FooderDiet } = this.state;\n\n    FooderDiet.splice(index, 1);\n    this.setState({ FooderDiet });\n    //  this.deleteMethode(FooderDeleted.idFooder)\n  };\n\n  add = a => {\n    const { FooderDiet } = this.state;\n\n    FooderDiet.push(a);\n    this.setState({\n      FooderDiet\n    });\n  };\n\n  postMethode(a) {\n    const encodedKeyDietName = encodeURIComponent('DietName');\n\n    const encodedvalDietName = encodeURIComponent(a.DietName);\n    const formbody = [`${encodedKeyDietName}=${encodedvalDietName}`];\n    //  formbody =formbody.join(\"&\");\n\n    const data = fetch(`${Config.url}/Diet`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(responseText => {\n        return responseText.json();\n      })\n      .catch(error => {\n        console.error(error);\n      });\n    return data;\n  }\n\n  postMethodeFooderDiet(FooderDeit, idDiet) {\n    const encodedKeyidDiet = encodeURIComponent('idDiet');\n    const encodedKeyidFooder = encodeURIComponent('idFooder');\n    const encodedKeyquantite = encodeURIComponent('quantite');\n    const encodedKeyPortion = encodeURIComponent('Portion');\n    const encodedKeyPriority = encodeURIComponent('Priority');\n\n    const encodedvalididDiet = encodeURIComponent(idDiet);\n    const encodedvalidFooder = encodeURIComponent(FooderDeit.idFooder);\n    const encodedvalquantite = encodeURIComponent(FooderDeit.quantite);\n    const encodedvalPortion = encodeURIComponent(FooderDeit.Portion);\n    const encodedvalPriority = encodeURIComponent(FooderDeit.Priority);\n    let formbody = [\n      `${encodedKeyidDiet}=${encodedvalididDiet}`,\n      `${encodedKeyidFooder}=${encodedvalidFooder}`,\n      `${encodedKeyquantite}=${encodedvalquantite}`,\n      `${encodedKeyPortion}=${encodedvalPortion}`,\n      `${encodedKeyPriority}=${encodedvalPriority}`\n    ];\n    formbody = formbody.join('&');\n\n    fetch(`${Config.url}/FooderDiet`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(response => response.text())\n      .then(responseText => {\n        alert(responseText);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }\n\n  render() {\n    const { FooderDiet } = this.state;\n    const FooderDietListe = FooderDiet.map((valeur, index) => {\n      return (\n        <DietCreated\n          detail={valeur}\n          key={index}\n          index={index}\n          edit={this.edit}\n          delete={this.delete}\n        />\n      );\n    });\n\n    return (\n      <ListGroup flush>\n        <ListGroupItem className=\"p-3\">\n          <Row>\n            <Col>\n              <Form onSubmit={this.Submiting}>\n                <Row form>\n                  <Col md=\"6\" sm=\"12\" className=\"form-group mb-4\">\n                    <label htmlFor=\"DietName\">Nom de Regimeaaaa</label>\n\n                    <FormInput\n                      id=\"DietName\"\n                      name=\"DietName\"\n                      type=\"text\"\n                      placeholder=\"Regime\"\n                      onChange={this.handleChange}\n                      value={this.state.DietName}\n                      valid={this.state.InvalidDietName}\n                      invalid={this.state.validDietName}\n                    />\n                  </Col>\n                </Row>\n                <br />\n                <br />\n                <Row form>\n                  <table className=\"table mb-0\">\n                    <thead className=\"thead-dark\">\n                      <tr>\n                        <th scope=\"col\" className=\"border-0\">\n                          Fodder\n                        </th>\n                        <th scope=\"col\" className=\"border-0\">\n                          Quantite par jour{' '}\n                        </th>\n                        <th scope=\"col\" className=\"border-0\">\n                          Portion{' '}\n                        </th>\n                        <th scope=\"col\" className=\"border-0\">\n                          Priorit√©\n                        </th>\n                        <th scope=\"col\" className=\"border-0\" />\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {FooderDietListe}\n                      <Formdietcreate\n                        Fooder={this.props.Fooder}\n                        add={this.add}\n                      />\n                    </tbody>\n                  </table>\n                </Row>\n                <Row form>\n                  <Col />\n                  <Col className=\"form-group\">\n                    <center>\n                      <Button\n                        outline\n                        pill\n                        theme=\"danger\"\n                        onClick={() => {\n                          this.setState({\n                            idDiet: 0,\n                            DietName: '',\n                            FooderDiet: []\n                          });\n                        }}\n                      >\n                        {' '}\n                        <FontAwesomeIcon size=\"lg\" icon={faRedo} />\n                      </Button>\n                      &nbsp; &nbsp;&nbsp; &nbsp;\n                      <Button outline pill theme=\"primary\" type=\"submit\">\n                        <FontAwesomeIcon size=\"lg\" icon={faCheck} />\n                      </Button>\n                    </center>\n                  </Col>\n                </Row>\n              </Form>\n            </Col>\n          </Row>\n        </ListGroupItem>\n        <ListGroupItem>\n          <Row>\n            <NotificationContainer />\n          </Row>\n        </ListGroupItem>\n      </ListGroup>\n    );\n  }\n}\n\nexport default FormDiet;\n"]},"metadata":{},"sourceType":"module"}