{"ast":null,"code":"import _classCallCheck from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/aziz/Bureau/project/ap/src/views/ProfileView/ProfileView.js\";\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n/* eslint-disable react/no-array-index-key */\n\n/* eslint-disable radix */\n\n/* eslint-disable no-alert */\n\n/* eslint-disable consistent-return */\n\n/* eslint-disable class-methods-use-this */\n\n/* eslint-disable no-param-reassign */\n\n/* eslint-disable react/destructuring-assignment */\n\n/* eslint-disable react/no-access-state-in-setstate */\n\n/* eslint-disable guard-for-in */\n\n/* eslint-disable no-restricted-syntax */\n\n/* eslint-disable no-console */\n\n/* eslint-disable no-undef */\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Card, CardHeader, CardBody } from 'shards-react';\nimport Popover, { ArrowContainer } from 'react-tiny-popover';\nimport { FloatingMenu, MainButton } from 'react-floating-button-menu';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport MaterialTable from 'material-table';\nimport USERForm from './USER/USERForm';\nimport PageTitle from '../../components/common/PageTitle';\nimport { Config } from '../../configue';\nimport USERRow from './USER/USERRow';\nimport USERRow2 from './USER/USERRow2';\nimport '../../style/scrollerdesign.css';\nimport '../../style/scrollerdesign2.css';\n\nvar ProfileView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProfileView, _Component);\n\n  function ProfileView() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProfileView);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProfileView)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      isPopoverOpen: false,\n      isOpen: false,\n      USER: []\n    };\n\n    _this.componentDidMount = function () {\n      _this.getUSER().then(function (USER) {\n        console.log(\"USER.data\");\n        console.log(USER.data);\n\n        _this.setState({\n          USER: USER.data\n        });\n      });\n    };\n\n    _this.getUSER = function () {\n      var datas = fetch(\"\".concat(Config.url, \"/User\")).then(function (reponse) {\n        return reponse.json(); // })\n        // .then(({ data }) => {\n      }).catch(function (err) {\n        return console.error(err);\n      });\n      console.log(datas);\n      return datas;\n    };\n\n    _this.editUSER = function (index, change) {\n      var USER = _this.state.USER;\n      var USERs = USER[index];\n\n      for (var i in change) {\n        USERs[i] = change[i];\n      }\n\n      _this.updateMethodeUSER(USERs);\n\n      _this.setState({\n        USER: USER\n      });\n    };\n\n    _this.deleteUSER = function (index) {\n      var USER = _this.state.USER;\n      var USERDeleted = USER[index];\n      USER.splice(index, 1);\n\n      _this.setState({\n        USER: USER\n      });\n\n      _this.deleteMethodeUSER(USERDeleted.idUSER);\n    };\n\n    _this.addUSER = function (a, idUSER) {\n      var USER = _this.state.USER;\n      a.idUSER = idUSER;\n      USER.push(a);\n\n      _this.setState({\n        isOpen: !_this.state.isOpen,\n        isPopoverOpen: !_this.state.isPopoverOpen,\n        USER: USER\n      });\n    };\n\n    _this.RoleMethode = function (a) {\n      switch (a) {\n        case 0:\n          return 'Admin';\n\n        case 1:\n          return 'user';\n\n        case 2:\n          return 'simple user';\n\n        default:\n          break;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ProfileView, [{\n    key: \"deleteMethodeUSER\",\n    value: function deleteMethodeUSER(a) {\n      var encodedKeyids = encodeURIComponent('ids');\n      var encodedvalids = encodeURIComponent(a);\n      var formbody = [\"\".concat(encodedKeyids, \"=\").concat(encodedvalids)];\n      fetch(\"\".concat(Config.url, \"/User/delete\"), {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n\n        },\n        body: formbody // <-- Post parameters\n\n      }).then(function (response) {\n        return response.json();\n      }).then(function (responseText) {\n        alert(responseText);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"updateMethodeUSER\",\n    value: function updateMethodeUSER(a) {\n      var encodedKeyid = encodeURIComponent('idUSER');\n      var encodedKeyname = encodeURIComponent('USERName');\n      var encodedKeyRole = encodeURIComponent('Role');\n      var encodedvalid = encodeURIComponent(a.idUSER);\n      var encodedvalname = encodeURIComponent(a.USERName);\n      var encodedvalRole = encodeURIComponent(parseInt(a.Role));\n      var formbody = [\"\".concat(encodedKeyid, \"=\").concat(encodedvalid), \"\".concat(encodedKeyname, \"=\").concat(encodedvalname), \"\".concat(encodedKeyRole, \"=\").concat(encodedvalRole)];\n      formbody = formbody.join('&');\n      fetch(\"\".concat(Config.url, \"/User/update\"), {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n\n        },\n        body: formbody // <-- Post parameters\n\n      }).then(function (response) {\n        return response.json();\n      }).then(function (responseText) {\n        alert(responseText);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var isPopoverOpen = this.state.isPopoverOpen;\n      var USER = this.state.USER;\n      var lengthG = USER.length;\n      var USERListe = lengthG ? USER.map(function (valeur, index) {\n        return React.createElement(USERRow, {\n          detail: valeur,\n          key: index,\n          index: index,\n          edit: _this2.editUSER,\n          delete: _this2.deleteUSER,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        });\n      }) : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"no more\");\n      var USERListe2 = USER.map(function (valeur, index) {\n        var v = {\n          id: index,\n          name: valeur.USERName,\n          password: valeur.password,\n          role: _this2.RoleMethode(valeur.Role),\n          actions: React.createElement(USERRow2, {\n            detail: valeur,\n            key: index,\n            index: index,\n            edit: _this2.editUSER,\n            delete: _this2.deleteUSER,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 196\n            },\n            __self: this\n          })\n        };\n        return v;\n      });\n      var columns = [{\n        title: 'id',\n        field: 'id',\n        headerStyle: {\n          zIndex: 0\n        }\n      }, {\n        title: 'Nom ',\n        field: 'name',\n        headerStyle: {\n          zIndex: 0\n        }\n      }, {\n        title: 'Role',\n        field: 'role',\n        headerStyle: {\n          zIndex: 0\n        }\n      }, {\n        title: 'actions',\n        field: 'actions',\n        headerStyle: {\n          zIndex: 0\n        }\n      }];\n      return React.createElement(Container, {\n        fluid: true,\n        className: \"main-content-container px-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(Row, {\n        noGutters: true,\n        className: \"page-header py-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(PageTitle, {\n        title: \" Page Des USER\",\n        subtitle: \"agTEK\",\n        className: \"text-sm-left mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      })), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(Card, {\n        small: true,\n        className: \"mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        className: \"border-bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: \"10\",\n        md: \"6\",\n        sm: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"m-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"Liste des USER\")), React.createElement(Col, {\n        lg: \"2\",\n        md: \"6\",\n        sm: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(FloatingMenu, {\n        slideSpeed: 500,\n        direction: \"left\",\n        spacing: 8,\n        isOpen: this.state.isOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(MainButton, {\n        iconResting: React.createElement(FontAwesomeIcon, {\n          size: \"lg\",\n          icon: faPlus,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }),\n        iconActive: React.createElement(FontAwesomeIcon, {\n          size: \"lg\",\n          icon: faTimes,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }),\n        backgroundColor: \"#d3d3d3\",\n        onClick: function onClick() {\n          return _this2.setState({\n            isOpen: !_this2.state.isOpen\n          });\n        },\n        size: 40,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }), React.createElement(Popover, {\n        isOpen: isPopoverOpen,\n        position: ['bottom', 'right', 'left', 'top'],\n        padding: 30,\n        onClickOutside: function onClickOutside() {\n          return _this2.setState({\n            isPopoverOpen: false\n          });\n        },\n        content: function content(_ref) {\n          var position = _ref.position,\n              targetRect = _ref.targetRect,\n              popoverRect = _ref.popoverRect;\n          return React.createElement(ArrowContainer, {\n            position: position,\n            targetRect: targetRect,\n            popoverRect: popoverRect,\n            arrowColor: \"#d3d3d3\",\n            arrowSize: 14,\n            arrowStyle: {\n              opacity: 0.7\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 272\n            },\n            __self: this\n          }, React.createElement(Card, {\n            small: true,\n            className: \"mb-4\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 280\n            },\n            __self: this\n          }, React.createElement(CardHeader, {\n            className: \"border-bottom\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 281\n            },\n            __self: this\n          }, React.createElement(\"h6\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 282\n            },\n            __self: this\n          }, \"Ajouter un USER\")), React.createElement(CardBody, {\n            className: \"p-0 pb-3\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 284\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            style: {\n              opacity: 0.7\n            },\n            onClick: function onClick() {\n              return _this2.setState({\n                isPopoverOpen: !isPopoverOpen\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 285\n            },\n            __self: this\n          }, React.createElement(USERForm, {\n            addUSER: _this2.addUSER,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 293\n            },\n            __self: this\n          })))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.setState({\n            isPopoverOpen: !isPopoverOpen\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      })))))), React.createElement(CardBody, {\n        className: \"p-0 pb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"tables table mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"bg-light thead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0 th2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, \"Nom USER\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0 th2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, \"Role\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0 th2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, \"Action\"))), React.createElement(\"tbody\", {\n        className: \"tbody\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, USERListe))))), React.createElement(MaterialTable, {\n        columns: columns,\n        data: USERListe2,\n        title: \"Liste Profile\",\n        options: {\n          columnsButton: true,\n          maxBodyHeight: '50vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ProfileView;\n}(Component);\n\nexport default ProfileView;","map":{"version":3,"sources":["/home/aziz/Bureau/project/ap/src/views/ProfileView/ProfileView.js"],"names":["React","Component","Container","Row","Col","Card","CardHeader","CardBody","Popover","ArrowContainer","FloatingMenu","MainButton","FontAwesomeIcon","faPlus","faTimes","MaterialTable","USERForm","PageTitle","Config","USERRow","USERRow2","ProfileView","state","isPopoverOpen","isOpen","USER","componentDidMount","getUSER","then","console","log","data","setState","datas","fetch","url","reponse","json","catch","err","error","editUSER","index","change","USERs","i","updateMethodeUSER","deleteUSER","USERDeleted","splice","deleteMethodeUSER","idUSER","addUSER","a","push","RoleMethode","encodedKeyids","encodeURIComponent","encodedvalids","formbody","method","headers","Accept","body","response","responseText","alert","encodedKeyid","encodedKeyname","encodedKeyRole","encodedvalid","encodedvalname","USERName","encodedvalRole","parseInt","Role","join","lengthG","length","USERListe","map","valeur","USERListe2","v","id","name","password","role","actions","columns","title","field","headerStyle","zIndex","position","targetRect","popoverRect","opacity","columnsButton","maxBodyHeight"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable radix */\n/* eslint-disable no-alert */\n/* eslint-disable consistent-return */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-param-reassign */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable react/no-access-state-in-setstate */\n/* eslint-disable guard-for-in */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable no-console */\n/* eslint-disable no-undef */\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Card, CardHeader, CardBody } from 'shards-react';\n\nimport Popover, { ArrowContainer } from 'react-tiny-popover';\nimport { FloatingMenu, MainButton } from 'react-floating-button-menu';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport MaterialTable from 'material-table';\nimport USERForm from './USER/USERForm';\n\nimport PageTitle from '../../components/common/PageTitle';\nimport { Config } from '../../configue';\nimport USERRow from './USER/USERRow';\nimport USERRow2 from './USER/USERRow2';\nimport '../../style/scrollerdesign.css';\nimport '../../style/scrollerdesign2.css';\n\nclass ProfileView extends Component {\n  state = {\n    isPopoverOpen: false,\n    isOpen: false,\n    USER: []\n  };\n\n  componentDidMount = () => {\n    this.getUSER().then(USER => {\n      console.log(\"USER.data\");\n      console.log(USER.data);\n      this.setState({\n        USER: USER.data\n      });\n    });\n  };\n\n  getUSER = () => {\n    const datas = fetch(`${Config.url}/User`)\n      .then(reponse => {\n        return reponse.json();\n        // })\n        // .then(({ data }) => {\n      })\n      .catch(err => console.error(err));\n    console.log(datas);\n\n    return datas;\n  };\n\n  editUSER = (index, change) => {\n    const { USER } = this.state;\n    const USERs = USER[index];\n    for (const i in change) {\n      USERs[i] = change[i];\n    }\n    this.updateMethodeUSER(USERs);\n\n    this.setState({\n      USER\n    });\n  };\n\n  deleteUSER = index => {\n    const { USER } = this.state;\n    const USERDeleted = USER[index];\n\n    USER.splice(index, 1);\n    this.setState({ USER });\n    this.deleteMethodeUSER(USERDeleted.idUSER);\n  };\n\n  addUSER = (a, idUSER) => {\n    const { USER } = this.state;\n    a.idUSER = idUSER;\n    USER.push(a);\n    this.setState({\n      isOpen: !this.state.isOpen,\n      isPopoverOpen: !this.state.isPopoverOpen,\n      USER\n    });\n  };\n\n  RoleMethode = a => {\n    switch (a) {\n      case 0:\n        return 'Admin';\n      case 1:\n        return 'user';\n      case 2:\n        return 'simple user';\n      default:\n        break;\n    }\n  };\n\n  deleteMethodeUSER(a) {\n    const encodedKeyids = encodeURIComponent('ids');\n\n    const encodedvalids = encodeURIComponent(a);\n\n    const formbody = [`${encodedKeyids}=${encodedvalids}`];\n\n    fetch(`${Config.url}/User/delete`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(response => response.json())\n      .then(responseText => {\n        alert(responseText);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }\n\n  updateMethodeUSER(a) {\n    const encodedKeyid = encodeURIComponent('idUSER');\n    const encodedKeyname = encodeURIComponent('USERName');\n    const encodedKeyRole = encodeURIComponent('Role');\n\n    const encodedvalid = encodeURIComponent(a.idUSER);\n    const encodedvalname = encodeURIComponent(a.USERName);\n    const encodedvalRole = encodeURIComponent(parseInt(a.Role));\n\n    let formbody = [\n      `${encodedKeyid}=${encodedvalid}`,\n      `${encodedKeyname}=${encodedvalname}`,\n      `${encodedKeyRole}=${encodedvalRole}`\n    ];\n    formbody = formbody.join('&');\n\n    fetch(`${Config.url}/User/update`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(response => response.json())\n      .then(responseText => {\n        alert(responseText);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }\n\n  render() {\n    const { isPopoverOpen } = this.state;\n    const { USER } = this.state;\n\n    const lengthG = USER.length;\n\n    const USERListe = lengthG ? (\n      USER.map((valeur, index) => {\n        return (\n          <USERRow\n            detail={valeur}\n            key={index}\n            index={index}\n            edit={this.editUSER}\n            delete={this.deleteUSER}\n          />\n        );\n      })\n    ) : (\n      <p>no more</p>\n    );\n\n    const USERListe2 = USER.map((valeur, index) => {\n      const v = {\n        id: index,\n        name: valeur.USERName,\n        password : valeur.password,\n\n        role: this.RoleMethode(valeur.Role),\n\n        actions: (\n          <USERRow2\n            detail={valeur}\n            key={index}\n            index={index}\n            edit={this.editUSER}\n            delete={this.deleteUSER}\n          />\n        )\n      };\n      return v;\n    });\n    const columns = [\n      {\n        title: 'id',\n        field: 'id',\n        headerStyle: { zIndex: 0 }\n      },\n      {\n        title: 'Nom ',\n        field: 'name',\n        headerStyle: { zIndex: 0 }\n      },\n\n      {\n        title: 'Role',\n        field: 'role',\n        headerStyle: { zIndex: 0 }\n      },\n      {\n        title: 'actions',\n        field: 'actions',\n        headerStyle: { zIndex: 0 }\n      }\n    ];\n\n    return (\n      <Container fluid className=\"main-content-container px-4\">\n        <Row noGutters className=\"page-header py-4\">\n          <PageTitle\n            title=\" Page Des USER\"\n            subtitle=\"agTEK\"\n            className=\"text-sm-left mb-3\"\n          />\n        </Row>\n        <Col>\n          <Card small className=\"mb-4\">\n            <CardHeader className=\"border-bottom\">\n              <Row>\n                <Col lg=\"10\" md=\"6\" sm=\"12\">\n                  <h6 className=\"m-0\">Liste des USER</h6>\n                </Col>\n                <Col lg=\"2\" md=\"6\" sm=\"12\">\n                  <FloatingMenu\n                    slideSpeed={500}\n                    direction=\"left\"\n                    spacing={8}\n                    isOpen={this.state.isOpen}\n                  >\n                    <MainButton\n                      iconResting={<FontAwesomeIcon size=\"lg\" icon={faPlus} />}\n                      iconActive={<FontAwesomeIcon size=\"lg\" icon={faTimes} />}\n                      backgroundColor=\"#d3d3d3\"\n                      onClick={() =>\n                        this.setState({ isOpen: !this.state.isOpen })\n                      }\n                      size={40}\n                    />\n\n                    <Popover\n                      isOpen={isPopoverOpen}\n                      position={['bottom', 'right', 'left', 'top']}\n                      padding={30}\n                      onClickOutside={() =>\n                        this.setState({ isPopoverOpen: false })\n                      }\n                      content={({ position, targetRect, popoverRect }) => (\n                        <ArrowContainer\n                          position={position}\n                          targetRect={targetRect}\n                          popoverRect={popoverRect}\n                          arrowColor=\"#d3d3d3\"\n                          arrowSize={14}\n                          arrowStyle={{ opacity: 0.7 }}\n                        >\n                          <Card small className=\"mb-4\">\n                            <CardHeader className=\"border-bottom\">\n                              <h6>Ajouter un USER</h6>\n                            </CardHeader>\n                            <CardBody className=\"p-0 pb-3\">\n                              <div\n                                style={{ opacity: 0.7 }}\n                                onClick={() =>\n                                  this.setState({\n                                    isPopoverOpen: !isPopoverOpen\n                                  })\n                                }\n                              >\n                                <USERForm addUSER={this.addUSER} />\n                              </div>\n                            </CardBody>\n                          </Card>\n                        </ArrowContainer>\n                      )}\n                    >\n                      <div\n                        onClick={() =>\n                          this.setState({ isPopoverOpen: !isPopoverOpen })\n                        }\n                      />\n                    </Popover>\n                  </FloatingMenu>\n                </Col>\n              </Row>\n            </CardHeader>\n            <CardBody className=\"p-0 pb-3\">\n              <table className=\"tables table mb-0\">\n                <thead className=\"bg-light thead\">\n                  <tr>\n                    <th scope=\"col\" className=\"border-0 th2\">\n                      Nom USER\n                    </th>\n\n                    <th scope=\"col\" className=\"border-0 th2\">\n                      Role\n                    </th>\n                    <th scope=\"col\" className=\"border-0 th2\">\n                      Action\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"tbody\">{USERListe}</tbody>\n              </table>\n            </CardBody>\n          </Card>\n        </Col>\n\n        <MaterialTable\n          columns={columns}\n          data={USERListe2}\n          title=\"Liste Profile\"\n          options={{\n            columnsButton: true,\n            maxBodyHeight: '50vh'\n          }}\n        />\n      </Container>\n    );\n  }\n}\n\nexport default ProfileView;\n"]},"metadata":{},"sourceType":"module"}