{"ast":null,"code":"import _classCallCheck from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/aziz/Bureau/ap/src/views/vachesView/group/rowGroupe2.js\";\n\n/* eslint-disable guard-for-in */\n\n/* eslint-disable no-useless-concat */\n\n/* eslint-disable camelcase */\n\n/* eslint-disable jsx-a11y/heading-has-content */\n\n/* eslint-disable react/no-string-refs */\n\n/* eslint-disable jsx-a11y/label-has-associated-control */\n\n/* eslint-disable jsx-a11y/label-has-for */\n\n/* eslint-disable prefer-destructuring */\n\n/* eslint-disable react/no-array-index-key */\n\n/* eslint-disable class-methods-use-this */\n\n/* eslint-disable array-callback-return */\n\n/* eslint-disable consistent-return */\n\n/* eslint-disable no-shadow */\n\n/* eslint-disable react/no-unused-state */\n\n/* eslint-disable react/destructuring-assignment */\n\n/* eslint-disable no-redeclare */\n\n/* eslint-disable eqeqeq */\n\n/* eslint-disable block-scoped-var */\n\n/* eslint-disable no-var */\n\n/* eslint-disable vars-on-top */\n\n/* eslint-disable no-restricted-syntax */\n\n/* eslint-disable no-plusplus */\n\n/* eslint-disable no-console */\n\n/* eslint-disable no-undef */\n\n/* eslint-disable global-require */\n\n/* eslint-disable import/no-extraneous-dependencies */\nimport React, { Component, Fragment } from 'react';\nimport { FormCheckbox, FormInput, Row, ButtonGroup, Button, Col, Form } from 'shards-react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash, faCheck, faPencilAlt, faEye, faRedo } from '@fortawesome/free-solid-svg-icons';\nimport SlidingPane from 'react-sliding-pane';\nimport Modal from 'react-modal';\nimport MaterialTable from 'material-table';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport 'rodal/lib/rodal.css';\nimport FormGroupDiet from './DietGroup/FormGroupDiet';\nimport '../../../style/scrollerdesign.css';\nimport '../../../style/scrollerdesign2.css';\nimport RowGroupDiet from './DietGroup/RowGroupDiet';\nimport { Config } from '../../../configue';\nimport '../hover.css';\n\nvar RowGroup2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RowGroup2, _Component);\n\n  function RowGroup2(props) {\n    var _this;\n\n    _classCallCheck(this, RowGroup2);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RowGroup2).call(this, props));\n    _this.state = {\n      idUser: 0,\n      Role: 2,\n      edit: false,\n      group: [{\n        idGroupe: 0,\n        GroupeName: '',\n        note: ''\n      }],\n      backgroundImage: require('../../../images/groupe.jpg'),\n      authorAvatar: require('../../../images/avatars/2.jpg'),\n      change: {\n        GroupeName: _this.props.detail.GroupeName\n      },\n      GroupDiet: [],\n      vachesState: [],\n      visiblelisteVaches: false,\n      GroupDietDeleted: [],\n      GroupDietAdd: [],\n      GroupCow: [],\n      CowDiet: [],\n      isPopoverOpen: false,\n      oldDietAffectation: [],\n      InvalidGroupeName: false,\n      validGroupeName: false,\n      visible: false\n    };\n\n    _this.componentDidMount = function () {\n      Modal.setAppElement('body');\n      var idUser = localStorage.getItem('idUser');\n      var Role = localStorage.getItem('Role');\n\n      _this.setState({\n        // eslint-disable-next-line radix\n        Role: parseInt(Role),\n        // eslint-disable-next-line radix\n        idUser: parseInt(idUser)\n      });\n    };\n\n    _this.getDietCow = function (idCow) {\n      // const url = Config.url + '/DietCow?idCow='\n      var datas = fetch(\"\".concat(Config.url, \"/DietCow?idCow=\").concat(idCow)).then(function (reponse) {\n        return reponse.json(); // })\n        // .then(({data}) => {\n      }).catch(function (err) {\n        return console.error(err);\n      });\n      return datas;\n    };\n\n    _this.getDietGroup = function (idGroup) {\n      var url = \"\".concat(Config.url, \"/DietGroup?idGroup=\");\n      var datas = fetch(url + idGroup).then(function (reponse) {\n        return reponse.json(); // })\n        // .then(({data}) => {\n      }).catch(function (err) {\n        return console.error(err);\n      });\n      return datas;\n    };\n\n    _this.compareDiets = function (CowDiet, GroupDiet) {\n      var temp = [];\n      var array1 = [];\n      var array2 = [];\n\n      for (var _i = 0; _i < GroupDiet.length; _i++) {\n        var str = \"\".concat(GroupDiet[_i].idDiet + GroupDiet[_i].begin + GroupDiet[_i].end);\n        array1.push(str);\n      }\n\n      for (var _i2 = 0; _i2 < CowDiet.length; _i2++) {\n        var str2 = \"\".concat(CowDiet[_i2].idDiet + CowDiet[_i2].begin + CowDiet[_i2].end);\n        array2.push(str2);\n      }\n\n      for (var i in array1) {\n        if (array2.indexOf(array1[i]) === -1) temp.push(array1[i]);\n      }\n\n      for (i in array2) {\n        if (array1.indexOf(array2[i]) === -1) temp.push(array2[i]);\n      }\n\n      if (temp.length == 0) {\n        var result = true;\n      } else {\n        var result = false;\n      }\n\n      return result;\n    };\n\n    _this.showlisteVaches = function () {\n      var visiblelisteVaches = _this.state.visiblelisteVaches;\n\n      _this.setState({\n        visiblelisteVaches: !visiblelisteVaches\n      });\n    };\n\n    _this.show = function () {\n      var GroupDietFilter = _this.props.GroupDietFilter;\n      var DietCowS = _this.props.DietCowS;\n      var CowGroupFilter = _this.props.CowGroupFilter;\n      var GroupDiet = GroupDietFilter.filter(function (GroupDiet) {\n        if (GroupDiet.idGroup == _this.props.detail.idGroupe) return GroupDiet;\n      });\n\n      _this.setState({\n        GroupDiet: GroupDiet\n      });\n\n      var GroupCows = CowGroupFilter.filter(function (CowGroupe) {\n        if (CowGroupe.idGroupe == _this.props.detail.idGroupe) return CowGroupe;\n      });\n      var vachesState = _this.state.vachesState;\n      var oldDietAffectation = _this.state.oldDietAffectation;\n      var vach = _this.props.vaches;\n\n      var _loop = function _loop(i) {\n        var GroupCows1 = GroupCows.filter(function (CowGroupe) {\n          if (CowGroupe.idVache == vach[i].id) return CowGroupe;\n        });\n\n        if (GroupCows1 != 0) {\n          var CowDiet = DietCowS.filter(function (DietCow) {\n            if (DietCow.idCow == vach[i].id) return DietCow;\n          });\n\n          var DietAffectation = _this.compareDiets(CowDiet, GroupDiet);\n\n          if (DietAffectation) {\n            oldDietAffectation.push(vach[i].id);\n          }\n\n          v = {\n            id: vach[i].id,\n            name: vach[i].name,\n            type: vach[i].type,\n            DateCow: vach[i].DateCow,\n            existance: true,\n            DietAffectation: DietAffectation\n          };\n        } else {\n          v = {\n            id: vach[i].id,\n            name: vach[i].name,\n            type: vach[i].type,\n            DateCow: vach[i].DateCow,\n            existance: false,\n            DietAffectation: false\n          };\n        }\n\n        vachesState.push(v);\n      };\n\n      for (var i = 0; i < vach.length; i++) {\n        var v;\n        var v;\n\n        _loop(i);\n      }\n\n      console.log(oldDietAffectation);\n\n      _this.setState({\n        visible: true,\n        vachesState: vachesState,\n        oldDietAffectation: oldDietAffectation,\n        GroupCow: GroupCows\n      });\n      /** ********************************************* */\n\n    };\n\n    _this.deleteGroupe = function () {\n      confirmAlert({\n        title: 'supprimer ',\n        message: 'Vous etes sur de supprimer cette vache ?',\n        buttons: [{\n          label: 'Yes',\n          onClick: function onClick() {\n            _this.deletedNotification(_this.props.detail.GroupeName);\n\n            _this.props.deleteGroupe(_this.props.index);\n          }\n        }, {\n          label: 'No',\n          onClick: function onClick() {\n            _this.NodeletedNotification();\n          }\n        }]\n      });\n    };\n\n    _this.renderActions = function () {\n      var GroupDiet = _this.state.GroupDiet;\n      var vaches = _this.state.vachesState;\n      var listeVaches2 = vaches.map(function (valeur, index) {\n        var begin = valeur.DateCow.substr(0, 10);\n        var begin2 = begin.substr(0, 10);\n        var v = {\n          idVache: valeur.id,\n          name: valeur.name,\n          naissance: begin2,\n          etat: valeur.type,\n          affectation: React.createElement(FormCheckbox, {\n            toggle: true,\n            key: index,\n            small: true,\n            checked: valeur.existance,\n            onChange: function onChange(e) {\n              return _this.handleChangechekbox(e, index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 273\n            },\n            __self: this\n          }),\n          Programme: valeur.existance ? React.createElement(FormCheckbox, {\n            key: index,\n            small: true,\n            checked: valeur.DietAffectation,\n            onChange: function onChange(e) {\n              return _this.handleChangechekbox2(e, index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 282\n            },\n            __self: this\n          }) : React.createElement(Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 289\n            },\n            __self: this\n          })\n        };\n        return v;\n      });\n      var columnsVache = [{\n        title: 'Nom Vache',\n        field: 'name'\n      }, {\n        title: 'naissance',\n        field: 'naissance'\n      }, {\n        title: 'etat',\n        field: 'etat'\n      }, {\n        title: 'affectation',\n        field: 'affectation'\n      }, {\n        title: 'Programme',\n        field: 'Programme'\n      }];\n      var GroupietListe = GroupDiet.map(function (valeur, index) {\n        var Diet = _this.props.Diet;\n        var lengthF = Diet.length;\n\n        for (var i = 0; i < lengthF; i++) {\n          if (Diet[i].idDiet == valeur.idDiet) {\n            var DietName = Diet[i].DietName;\n          }\n        }\n\n        return React.createElement(RowGroupDiet, {\n          Diet: Diet,\n          DietName: DietName,\n          detail: valeur,\n          key: index,\n          index: index,\n          deleteGroupDiet: _this.deleteGroupDiet,\n          editGroupDiet: _this.editGroupDiet,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328\n          },\n          __self: this\n        });\n      });\n      var bodyHead = React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, React.createElement(MaterialTable, {\n        columns: columnsVache,\n        data: listeVaches2,\n        title: \"Vache\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      })));\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, React.createElement(Button, {\n        outline: true,\n        pill: true,\n        theme: \"success\",\n        className: \"button\",\n        onClick: _this.show,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        size: \"lg\",\n        icon: _this.state.Role === 2 ? faEye : faPencilAlt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      })), _this.state.Role === 0 ? React.createElement(Button, {\n        outline: true,\n        pill: true,\n        theme: \"danger\",\n        onClick: function onClick() {\n          _this.deleteGroupe();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        size: \"lg\",\n        icon: faTrash,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      })) : React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      })), React.createElement(NotificationContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      }), React.createElement(SlidingPane, {\n        className: \"some-custom-class\",\n        overlayClassName: \"some-custom-overlay-class\",\n        isOpen: _this.state.visible,\n        title: \"Fermer\",\n        subtitle: \"Fermer ajout de vache.\",\n        width: \"50%\",\n        onRequestClose: function onRequestClose() {\n          // triggered on \"<\" on left top click or on outside click\n          _this.setState({\n            GroupDiet: [],\n            vachesState: [],\n            visiblelisteVaches: false,\n            visibleAffectDiet: false,\n            Diets: [],\n            GroupDietDeleted: [],\n            GroupDietAdd: [],\n            GroupCow: [],\n            oldDietAffectation: [],\n            visible: false\n          });\n\n          _this.props.changeFilter(false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"Code\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416\n        },\n        __self: this\n      }, \"Nom de Groupe\")), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }, ' ', React.createElement(FormInput, {\n        valid: _this.state.InvalidGroupeName,\n        invalid: _this.state.validGroupeName,\n        disabled: _this.state.Role === 2,\n        type: \"text\",\n        onChange: _this.handleChange,\n        ref: \"GroupeName\",\n        value: _this.state.change.GroupeName,\n        id: \"GroupeName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      })))))), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }), React.createElement(Col, {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"tables2 table mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"thead-dark thead2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0 th2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441\n        },\n        __self: this\n      }, \"Regime\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0 th2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, \"Debut\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0 th2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }, \"Fin\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0 th2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        className: \"tbody3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }, GroupietListe), _this.state.Role === 2 ? React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }) : React.createElement(FormGroupDiet, {\n        Diet: _this.props.Diet,\n        addGroupDiet: _this.addGroupDiet,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      })), _this.state.Role === 2 ? React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        },\n        __self: this\n      }) : bodyHead, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      }), _this.state.Role === 2 ? React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }) : React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: function onClick() {\n          var GroupDietFilter = _this.props.GroupDietFilter;\n          var DietCowS = _this.props.DietCowS;\n          var CowGroupFilter = _this.props.CowGroupFilter;\n          var GroupDiet = GroupDietFilter.filter(function (GroupDiet) {\n            if (GroupDiet.idGroup == _this.props.detail.idGroupe) return GroupDiet;\n          });\n\n          _this.setState({\n            GroupDiet: GroupDiet\n          });\n\n          var GroupCows = CowGroupFilter.filter(function (CowGroupe) {\n            if (CowGroupe.idGroupe == _this.props.detail.idGroupe) return CowGroupe;\n          });\n          var vachesState = [];\n          var oldDietAffectation = [];\n          var vach = _this.props.vaches;\n\n          var _loop2 = function _loop2(i) {\n            var GroupCows1 = GroupCows.filter(function (CowGroupe) {\n              if (CowGroupe.idVache == vach[i].id) return CowGroupe;\n            });\n\n            if (GroupCows1 != 0) {\n              var CowDiet = DietCowS.filter(function (DietCow) {\n                if (DietCow.idCow == vach[i].id) return DietCow;\n              });\n\n              var DietAffectation = _this.compareDiets(CowDiet, GroupDiet);\n\n              if (DietAffectation) {\n                oldDietAffectation.push(vach[i].id);\n              }\n\n              v = {\n                id: vach[i].id,\n                name: vach[i].name,\n                type: vach[i].type,\n                DateCow: vach[i].DateCow,\n                existance: true,\n                DietAffectation: DietAffectation\n              };\n            } else {\n              v = {\n                id: vach[i].id,\n                name: vach[i].name,\n                type: vach[i].type,\n                DateCow: vach[i].DateCow,\n                existance: false,\n                DietAffectation: false\n              };\n            }\n\n            vachesState.push(v);\n          };\n\n          for (var i = 0; i < vach.length; i++) {\n            var v;\n            var v;\n\n            _loop2(i);\n          }\n\n          console.log(oldDietAffectation);\n\n          _this.setState({\n            vachesState: vachesState,\n            oldDietAffectation: oldDietAffectation,\n            GroupCow: GroupCows,\n            change: {\n              GroupeName: _this.props.detail.GroupeName\n            }\n          });\n\n          _this.getDietGroup(_this.props.detail.idGroupe).then(function (GroupDiet) {\n            _this.setState({\n              GroupDiet: GroupDiet.data\n            });\n          });\n        },\n        outline: true,\n        pill: true,\n        theme: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        size: \"lg\",\n        icon: faRedo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555\n        },\n        __self: this\n      })), \"\\xA0 \\xA0\\xA0 \\xA0\", React.createElement(Button, {\n        type: \"submit\",\n        outline: true,\n        pill: true,\n        theme: \"primary\",\n        onClick: _this.submitGroupDiet,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        size: \"lg\",\n        icon: faCheck,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565\n        },\n        __self: this\n      })))), ' '), ' ', React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571\n        },\n        __self: this\n      })))));\n    };\n\n    _this.submitGroupDiet = function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          GroupDiet = _this$state.GroupDiet,\n          GroupCow = _this$state.GroupCow,\n          vachesState = _this$state.vachesState,\n          change = _this$state.change,\n          oldDietAffectation = _this$state.oldDietAffectation;\n      var idGroup = _this.props.detail.idGroupe;\n      var idGroupe_vachesOld = [];\n      var idGroupe_vachesNew = [];\n      var DietCowEdited = [];\n      var GroupCowNew = [];\n\n      if (_this.state.change.GroupeName == '') {\n        _this.setState({\n          validGroupeName: true,\n          InvalidGroupeName: false\n        });\n      } else _this.setState({\n        validGroupeName: false,\n        InvalidGroupeName: true\n      });\n\n      var unicite = false;\n\n      if (_this.state.change.GroupeName != '') {\n        var group = _this.props.group;\n        console.log('group');\n        console.log(group);\n        var groupe = group.filter(function (groupe) {\n          if (groupe.GroupeName == _this.state.change.GroupeName) return groupe;\n        });\n        console.log('groupe');\n        console.log(groupe);\n        console.log('groupe length');\n        console.log(groupe.length);\n        console.log('groupe idGroup');\n        console.log(idGroup);\n\n        if (groupe.length > 0) {\n          if (groupe.length === 1 && groupe[0].idGroupe === idGroup) {\n            unicite = true;\n          } else {\n            NotificationManager.error('Nom existant', '', 3000);\n          }\n        } else {\n          unicite = true;\n        }\n      }\n\n      if (_this.state.change.GroupeName != '' && unicite) {\n        _this.setState({\n          visible: false\n        });\n\n        for (var p = 0; p < GroupCow.length; p++) {\n          idGroupe_vachesOld.push(GroupCow[p].idGroupe_vaches);\n        }\n\n        for (var k = 0; k < vachesState.length; k++) {\n          if (vachesState[k].existance) {\n            idGroupe_vachesNew.push(vachesState[k].id);\n            GroupCowNew.push({\n              idVache: vachesState[k].id,\n              idGroupe: idGroup\n            });\n          }\n\n          if (vachesState[k].DietAffectation) DietCowEdited.push(vachesState[k].id);\n        }\n\n        _this.props.editGroup(_this.props.index, change, GroupDiet, _this.props.detail.idGroupe, GroupCowNew, DietCowEdited, idGroupe_vachesNew, oldDietAffectation);\n\n        _this.setState({\n          visible: false,\n          GroupDiet: [],\n          vachesState: []\n        });\n      }\n    };\n\n    _this.deleteGroupDiet = function (index) {\n      var _this$state2 = _this.state,\n          GroupDietDeleted = _this$state2.GroupDietDeleted,\n          GroupDiet = _this$state2.GroupDiet;\n      var GroupDietD = GroupDiet[index];\n      GroupDietDeleted.push(GroupDietD.idDiet_Group);\n      GroupDiet.splice(index, 1);\n\n      _this.setState({\n        GroupDiet: GroupDiet\n      }); // this.deleteMethode(GroupDietDeleted.idProgram)\n\n    };\n\n    _this.editGroupDiet = function (index, change) {\n      var GroupDiet = _this.state.GroupDiet;\n      var GroupDiets = GroupDiet[index];\n\n      for (var i in change) {\n        GroupDiets[i] = change[i];\n      }\n\n      _this.setState({\n        GroupDiet: GroupDiet\n      });\n    };\n\n    _this.addGroupDiet = function (a) {\n      var _this$state3 = _this.state,\n          GroupDiet = _this$state3.GroupDiet,\n          GroupDietAdd = _this$state3.GroupDietAdd;\n      GroupDietAdd.push(a);\n      GroupDiet.push(a);\n\n      _this.setState({\n        GroupDiet: GroupDiet,\n        GroupDietAdd: GroupDietAdd\n      });\n    };\n\n    _this.handleChange = function (e) {\n      var _this$state4 = _this.state,\n          edit = _this$state4.edit,\n          group = _this$state4.group,\n          change = _this$state4.change;\n      change[e.target.id] = e.target.value;\n\n      _this.setState({\n        edit: edit,\n        group: group,\n        change: change\n      });\n    };\n\n    _this.NodeletedNotification = _this.NodeletedNotification.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deletedNotification = _this.deletedNotification.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.notificationDOMRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(RowGroup2, [{\n    key: \"handleChangechekbox\",\n\n    /*\n      MethodeEditGroupe = (\n      idGroup,\n      idGroupe_vachesNew,\n      GroupDiet,\n      DietCowEdited\n    ) => {\n      const post = JSON.stringify({\n        idGroup: JSON.stringify(idGroup),\n        idGroupe_vachesNew: JSON.stringify(idGroupe_vachesNew),\n        GroupDiet: JSON.stringify(GroupDiet),\n        DietCowEdited: JSON.stringify(DietCowEdited)\n      });\n      const formbody = [`${'post' + '='}${post}`];\n      const datas = fetch(`${Config.url}/groupe/EditGroupe`, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n        },\n        body: formbody // <-- Post parameters\n      })\n        .then(reponse => {\n          return reponse.json();\n        })\n        .catch(err => console.error(err));\n       return datas;\n    };\n    \n     getCowGroup = idGroup => {\n      const url = `${Config.url}/GroupCow?idGroupe=`;\n      const datas = fetch(url + idGroup)\n        .then(reponse => {\n          return reponse.json();\n          // })\n          // .then(({data}) => {\n        })\n        .catch(err => console.error(err));\n       return datas;\n    };\n        handleChangeName = e => {\n      const { change } = this.state;\n      change[e.target.id] = e.target.value;\n      this.setState({\n        change\n      });\n    };\n     editing = () => {\n      const { edit, vache } = this.state;\n       this.setState({\n        edit: !edit,\n        vache\n      });\n    };\n    \n    onEdit = e => {\n      e.preventDefault();\n       const change = this.state.change;\n       this.props.editGroup(this.props.index, change);\n      this.editing();\n    };\n    /*\n    updateGMethode(idGroupe, a) {\n      const encodedKeyid = encodeURIComponent('idGroupe');\n      const encodedKeyname = encodeURIComponent('GroupeName');\n       const encodedvalid = encodeURIComponent(idGroupe);\n      const encodedvalname = encodeURIComponent(a.GroupeName);\n      let formbody = [\n        `${encodedKeyid}=${encodedvalid}`,\n        `${encodedKeyname}=${encodedvalname}`\n      ];\n      formbody = formbody.join('&');\n       fetch(`${Config.url}/groupe/update`, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n        },\n        body: formbody // <-- Post parameters\n      })\n        .then(response => response.json())\n        .then(responseText => {\n          console.log(responseText);\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n     DietCowEdited(DietCowEdited, GroupDiet) {\n      const post = JSON.stringify({\n        DietCowEdited: JSON.stringify(DietCowEdited),\n        GroupDiet: JSON.stringify(GroupDiet)\n      });\n      const formbody = [`${'post' + '='}${post}`];\n      fetch(`${Config.url}/DietCow/Edit`, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n        },\n        body: formbody // <-- Post parameters\n      })\n        .then(responseText => {\n          return responseText.json();\n        })\n        .catch(error => {\n          console.error(error);\n        });\n    }\n    /*\n    PostGroupeVacheEdit(idGroupe_vachesOld, idGroupe_vachesNew, idGroupe) {\n      const encodedKeyidGroupe = encodeURIComponent('idGroupe');\n      const encodedKeyidGroupe_vachesOld = encodeURIComponent(\n        'idGroupe_vachesOld'\n      );\n      const encodedKeyidGroupe_vachesNew = encodeURIComponent(\n        'idGroupe_vachesNew'\n      );\n       const encodedvalidGroupe = encodeURIComponent(idGroupe);\n      const encodedvalidGroupe_vachesOld = encodeURIComponent(idGroupe_vachesOld);\n      const encodedvalidGroupe_vachesNew = encodeURIComponent(idGroupe_vachesNew);\n       let formbody = [\n        `${encodedKeyidGroupe}=${encodedvalidGroupe}`,\n        `${encodedKeyidGroupe_vachesOld}=${encodedvalidGroupe_vachesOld}`,\n        `${encodedKeyidGroupe_vachesNew}=${encodedvalidGroupe_vachesNew}`\n      ];\n      formbody = formbody.join('&');\n       fetch(`${Config.url}/GroupEdit`, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n        },\n        body: formbody // <-- Post parameters\n      })\n        .then(responseText => {\n          return responseText.json();\n        })\n        .catch(error => {\n          console.error(error);\n        });\n    }\n    /*\n    PostGroupeDieteEdit(GroupDietDeleted, GroupDiet, GroupDietAdd, idGroupe) {\n      const post = JSON.stringify({\n        GroupDietDeleted: JSON.stringify(GroupDietDeleted),\n        GroupDiet: JSON.stringify(GroupDiet),\n        GroupDietAdd: JSON.stringify(GroupDietAdd),\n        idGroupe\n      });\n      const formbody = [`${'post' + '='}${post}`];\n      fetch(`${Config.url}/DietGroup/Edit`, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n        },\n        body: formbody // <-- Post parameters\n      })\n        .then(responseText => {\n          return responseText.json();\n        })\n        .catch(error => {\n          console.error(error);\n        });\n    }\n    */\n    value: function handleChangechekbox(e, index) {\n      var vachesState = this.state.vachesState;\n      var v = vachesState[index];\n      v.existance = !v.existance;\n      if (v.existance == false) v.DietAffectation = false;\n      this.setState({\n        vachesState: vachesState\n      });\n    }\n  }, {\n    key: \"NodeletedNotification\",\n    value: function NodeletedNotification() {\n      NotificationManager.warning('Groupe non supprimer', '', 3000);\n    }\n  }, {\n    key: \"deletedNotification\",\n    value: function deletedNotification(GroupeName) {\n      NotificationManager.info(\"Groupe supprimer \".concat(GroupeName));\n    }\n  }, {\n    key: \"handleChangechekbox2\",\n    value: function handleChangechekbox2(e, index) {\n      var vachesState = this.state.vachesState;\n      var v = vachesState[index];\n      v.DietAffectation = !v.DietAffectation;\n      this.setState({\n        vachesState: vachesState\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 924\n        },\n        __self: this\n      }, this.renderActions());\n    }\n  }]);\n\n  return RowGroup2;\n}(Component);\n\nexport default RowGroup2;","map":{"version":3,"sources":["/home/aziz/Bureau/ap/src/views/vachesView/group/rowGroupe2.js"],"names":["React","Component","Fragment","FormCheckbox","FormInput","Row","ButtonGroup","Button","Col","Form","FontAwesomeIcon","faTrash","faCheck","faPencilAlt","faEye","faRedo","SlidingPane","Modal","MaterialTable","confirmAlert","NotificationContainer","NotificationManager","FormGroupDiet","RowGroupDiet","Config","RowGroup2","props","state","idUser","Role","edit","group","idGroupe","GroupeName","note","backgroundImage","require","authorAvatar","change","detail","GroupDiet","vachesState","visiblelisteVaches","GroupDietDeleted","GroupDietAdd","GroupCow","CowDiet","isPopoverOpen","oldDietAffectation","InvalidGroupeName","validGroupeName","visible","componentDidMount","setAppElement","localStorage","getItem","setState","parseInt","getDietCow","idCow","datas","fetch","url","then","reponse","json","catch","err","console","error","getDietGroup","idGroup","compareDiets","temp","array1","array2","i","length","str","idDiet","begin","end","push","str2","indexOf","result","showlisteVaches","show","GroupDietFilter","DietCowS","CowGroupFilter","filter","GroupCows","CowGroupe","vach","vaches","GroupCows1","idVache","id","DietCow","DietAffectation","v","name","type","DateCow","existance","log","deleteGroupe","title","message","buttons","label","onClick","deletedNotification","index","NodeletedNotification","renderActions","listeVaches2","map","valeur","substr","begin2","naissance","etat","affectation","e","handleChangechekbox","Programme","handleChangechekbox2","columnsVache","field","GroupietListe","Diet","lengthF","DietName","deleteGroupDiet","editGroupDiet","bodyHead","visibleAffectDiet","Diets","changeFilter","handleChange","addGroupDiet","data","submitGroupDiet","preventDefault","idGroupe_vachesOld","idGroupe_vachesNew","DietCowEdited","GroupCowNew","unicite","groupe","p","idGroupe_vaches","k","editGroup","GroupDietD","idDiet_Group","splice","GroupDiets","a","target","value","bind","notificationDOMRef","createRef","warning","info"],"mappings":"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","sourcesContent":["/* eslint-disable guard-for-in */\n/* eslint-disable no-useless-concat */\n/* eslint-disable camelcase */\n/* eslint-disable jsx-a11y/heading-has-content */\n/* eslint-disable react/no-string-refs */\n/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable jsx-a11y/label-has-for */\n/* eslint-disable prefer-destructuring */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable array-callback-return */\n/* eslint-disable consistent-return */\n/* eslint-disable no-shadow */\n/* eslint-disable react/no-unused-state */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable no-redeclare */\n/* eslint-disable eqeqeq */\n/* eslint-disable block-scoped-var */\n/* eslint-disable no-var */\n/* eslint-disable vars-on-top */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-console */\n/* eslint-disable no-undef */\n/* eslint-disable global-require */\n/* eslint-disable import/no-extraneous-dependencies */\nimport React, { Component, Fragment } from 'react';\nimport {\n  FormCheckbox,\n  FormInput,\n  Row,\n  ButtonGroup,\n  Button,\n  Col,\n  Form\n} from 'shards-react';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faTrash,\n  faCheck,\n  faPencilAlt,\n  faEye,\n  faRedo\n} from '@fortawesome/free-solid-svg-icons';\nimport SlidingPane from 'react-sliding-pane';\nimport Modal from 'react-modal';\nimport MaterialTable from 'material-table';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport {\n  NotificationContainer,\n  NotificationManager\n} from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport 'rodal/lib/rodal.css';\nimport FormGroupDiet from './DietGroup/FormGroupDiet';\nimport '../../../style/scrollerdesign.css';\nimport '../../../style/scrollerdesign2.css';\nimport RowGroupDiet from './DietGroup/RowGroupDiet';\nimport { Config } from '../../../configue';\nimport '../hover.css';\n\nclass RowGroup2 extends Component {\n  state = {\n    idUser: 0,\n    Role: 2,\n    edit: false,\n    group: [{ idGroupe: 0, GroupeName: '', note: '' }],\n    backgroundImage: require('../../../images/groupe.jpg'),\n    authorAvatar: require('../../../images/avatars/2.jpg'),\n    change: { GroupeName: this.props.detail.GroupeName },\n    GroupDiet: [],\n    vachesState: [],\n    visiblelisteVaches: false,\n\n    GroupDietDeleted: [],\n    GroupDietAdd: [],\n    GroupCow: [],\n    CowDiet: [],\n    isPopoverOpen: false,\n    oldDietAffectation: [],\n    InvalidGroupeName: false,\n    validGroupeName: false,\n    visible: false\n  };\n\n  constructor(props) {\n    super(props);\n    this.NodeletedNotification = this.NodeletedNotification.bind(this);\n    this.deletedNotification = this.deletedNotification.bind(this);\n    this.notificationDOMRef = React.createRef();\n  }\n\n  componentDidMount = () => {\n    Modal.setAppElement('body');\n    const idUser = localStorage.getItem('idUser');\n    const Role = localStorage.getItem('Role');\n    this.setState({\n      // eslint-disable-next-line radix\n      Role: parseInt(Role),\n      // eslint-disable-next-line radix\n      idUser: parseInt(idUser)\n    });\n  };\n\n  getDietCow = idCow => {\n    // const url = Config.url + '/DietCow?idCow='\n    const datas = fetch(`${Config.url}/DietCow?idCow=${idCow}`)\n      .then(reponse => {\n        return reponse.json();\n        // })\n        // .then(({data}) => {\n      })\n      .catch(err => console.error(err));\n\n    return datas;\n  };\n\n  getDietGroup = idGroup => {\n    const url = `${Config.url}/DietGroup?idGroup=`;\n    const datas = fetch(url + idGroup)\n      .then(reponse => {\n        return reponse.json();\n        // })\n        // .then(({data}) => {\n      })\n      .catch(err => console.error(err));\n\n    return datas;\n  };\n\n  compareDiets = (CowDiet, GroupDiet) => {\n    const temp = [];\n    const array1 = [];\n    const array2 = [];\n\n    for (let i = 0; i < GroupDiet.length; i++) {\n      const str = `${GroupDiet[i].idDiet +\n        GroupDiet[i].begin +\n        GroupDiet[i].end}`;\n      array1.push(str);\n    }\n\n    for (let i = 0; i < CowDiet.length; i++) {\n      const str2 = `${CowDiet[i].idDiet + CowDiet[i].begin + CowDiet[i].end}`;\n      array2.push(str2);\n    }\n\n    for (var i in array1) {\n      if (array2.indexOf(array1[i]) === -1) temp.push(array1[i]);\n    }\n    for (i in array2) {\n      if (array1.indexOf(array2[i]) === -1) temp.push(array2[i]);\n    }\n\n    if (temp.length == 0) {\n      var result = true;\n    } else {\n      var result = false;\n    }\n\n    return result;\n  };\n\n  /** *********show liste de vache a affecter ************** */\n  showlisteVaches = () => {\n    const { visiblelisteVaches } = this.state;\n    this.setState({\n      visiblelisteVaches: !visiblelisteVaches\n    });\n  };\n\n  /** *********show liste Cow & Diet ************** */\n\n  /** ******************** show group & diet  ********************* */\n  show = () => {\n    const { GroupDietFilter } = this.props;\n    const { DietCowS } = this.props;\n    const { CowGroupFilter } = this.props;\n\n    const GroupDiet = GroupDietFilter.filter(GroupDiet => {\n      if (GroupDiet.idGroup == this.props.detail.idGroupe) return GroupDiet;\n    });\n    this.setState({\n      GroupDiet\n    });\n\n    const GroupCows = CowGroupFilter.filter(CowGroupe => {\n      if (CowGroupe.idGroupe == this.props.detail.idGroupe) return CowGroupe;\n    });\n\n    const { vachesState } = this.state;\n    const { oldDietAffectation } = this.state;\n    const vach = this.props.vaches;\n    for (let i = 0; i < vach.length; i++) {\n      const GroupCows1 = GroupCows.filter(CowGroupe => {\n        if (CowGroupe.idVache == vach[i].id) return CowGroupe;\n      });\n      if (GroupCows1 != 0) {\n        const CowDiet = DietCowS.filter(DietCow => {\n          if (DietCow.idCow == vach[i].id) return DietCow;\n        });\n        const DietAffectation = this.compareDiets(CowDiet, GroupDiet);\n        if (DietAffectation) {\n          oldDietAffectation.push(vach[i].id);\n        }\n        var v = {\n          id: vach[i].id,\n          name: vach[i].name,\n          type: vach[i].type,\n          DateCow: vach[i].DateCow,\n          existance: true,\n          DietAffectation\n        };\n      } else {\n        var v = {\n          id: vach[i].id,\n          name: vach[i].name,\n          type: vach[i].type,\n          DateCow: vach[i].DateCow,\n          existance: false,\n          DietAffectation: false\n        };\n      }\n      vachesState.push(v);\n    }\n    console.log(oldDietAffectation);\n    this.setState({\n      visible: true,\n      vachesState,\n      oldDietAffectation,\n      GroupCow: GroupCows\n    });\n    /** ********************************************* */\n  };\n\n  deleteGroupe = () => {\n    confirmAlert({\n      title: 'supprimer ',\n      message: 'Vous etes sur de supprimer cette vache ?',\n      buttons: [\n        {\n          label: 'Yes',\n          onClick: () => {\n            this.deletedNotification(this.props.detail.GroupeName);\n            this.props.deleteGroupe(this.props.index);\n          }\n        },\n        {\n          label: 'No',\n          onClick: () => {\n            this.NodeletedNotification();\n          }\n        }\n      ]\n    });\n  };\n\n  renderActions = () => {\n    const { GroupDiet } = this.state;\n    const vaches = this.state.vachesState;\n\n    const listeVaches2 = vaches.map((valeur, index) => {\n      const begin = valeur.DateCow.substr(0, 10);\n      const begin2 = begin.substr(0, 10);\n      const v = {\n        idVache: valeur.id,\n        name: valeur.name,\n        naissance: begin2,\n        etat: valeur.type,\n        affectation: (\n          <FormCheckbox\n            toggle\n            key={index}\n            small\n            checked={valeur.existance}\n            onChange={e => this.handleChangechekbox(e, index)}\n          />\n        ),\n        Programme: valeur.existance ? (\n          <FormCheckbox\n            key={index}\n            small\n            checked={valeur.DietAffectation}\n            onChange={e => this.handleChangechekbox2(e, index)}\n          />\n        ) : (\n          <Fragment />\n        )\n      };\n      return v;\n    });\n    const columnsVache = [\n      {\n        title: 'Nom Vache',\n        field: 'name'\n      },\n\n      {\n        title: 'naissance',\n        field: 'naissance'\n      },\n      {\n        title: 'etat',\n        field: 'etat'\n      },\n      {\n        title: 'affectation',\n        field: 'affectation'\n      },\n      {\n        title: 'Programme',\n        field: 'Programme'\n      }\n    ];\n\n    const GroupietListe = GroupDiet.map((valeur, index) => {\n      const { Diet } = this.props;\n      const lengthF = Diet.length;\n\n      for (let i = 0; i < lengthF; i++) {\n        if (Diet[i].idDiet == valeur.idDiet) {\n          var DietName = Diet[i].DietName;\n        }\n      }\n      return (\n        <RowGroupDiet\n          Diet={Diet}\n          DietName={DietName}\n          detail={valeur}\n          key={index}\n          index={index}\n          deleteGroupDiet={this.deleteGroupDiet}\n          editGroupDiet={this.editGroupDiet}\n        />\n      );\n    });\n\n    const bodyHead = (\n      <Row>\n        <Col>\n          <MaterialTable\n            columns={columnsVache}\n            data={listeVaches2}\n            title=\"Vache\"\n          />\n        </Col>\n      </Row>\n    );\n\n    return (\n      <Fragment>\n        <ButtonGroup>\n          <Button\n            outline\n            pill\n            theme=\"success\"\n            className=\"button\"\n            onClick={this.show}\n          >\n            <FontAwesomeIcon\n              size=\"lg\"\n              icon={this.state.Role === 2 ? faEye : faPencilAlt}\n            />\n          </Button>\n          {this.state.Role === 0 ? (\n            <Button\n              outline\n              pill\n              theme=\"danger\"\n              onClick={() => {\n                this.deleteGroupe();\n              }}\n            >\n              <FontAwesomeIcon size=\"lg\" icon={faTrash} />\n            </Button>\n          ) : (\n            <Fragment />\n          )}\n        </ButtonGroup>\n        <NotificationContainer />\n\n        <SlidingPane\n          className=\"some-custom-class\"\n          overlayClassName=\"some-custom-overlay-class\"\n          isOpen={this.state.visible}\n          title=\"Fermer\"\n          subtitle=\"Fermer ajout de vache.\"\n          width=\"50%\"\n          onRequestClose={() => {\n            // triggered on \"<\" on left top click or on outside click\n\n            this.setState({\n              GroupDiet: [],\n              vachesState: [],\n              visiblelisteVaches: false,\n              visibleAffectDiet: false,\n              Diets: [],\n              GroupDietDeleted: [],\n              GroupDietAdd: [],\n              GroupCow: [],\n              oldDietAffectation: [],\n\n              visible: false\n            });\n            this.props.changeFilter(false);\n          }}\n        >\n          <Form>\n            <h6 className=\"card-title\">\n              <Row>\n                <Col>\n                  <Row>\n                    <Col md=\"6\" className=\"form-group\">\n                      <label htmlFor=\"Code\">Nom de Groupe</label>\n                    </Col>\n                    <Col>\n                      {' '}\n                      <FormInput\n                        valid={this.state.InvalidGroupeName}\n                        invalid={this.state.validGroupeName}\n                        disabled={this.state.Role === 2}\n                        type=\"text\"\n                        onChange={this.handleChange}\n                        ref=\"GroupeName\"\n                        value={this.state.change.GroupeName}\n                        id=\"GroupeName\"\n                      />\n                    </Col>\n                  </Row>\n                </Col>\n              </Row>\n            </h6>\n            <h3 />\n\n            <Col className=\"form-group\">\n              <table className=\"tables2 table mb-0\">\n                <thead className=\"thead-dark thead2\">\n                  <tr>\n                    <th scope=\"col\" className=\"border-0 th2\">\n                      Regime\n                    </th>\n                    <th scope=\"col\" className=\"border-0 th2\">\n                      Debut\n                    </th>\n                    <th scope=\"col\" className=\"border-0 th2\">\n                      Fin\n                    </th>\n                    <th scope=\"col\" className=\"border-0 th2\" />\n                  </tr>\n                </thead>\n                <tbody className=\"tbody3\">{GroupietListe}</tbody>\n                {this.state.Role === 2 ? (\n                  <Fragment />\n                ) : (\n                  <FormGroupDiet\n                    Diet={this.props.Diet}\n                    addGroupDiet={this.addGroupDiet}\n                  />\n                )}\n              </table>\n              {this.state.Role === 2 ? <Fragment /> : bodyHead}\n              <Row>\n                <br />\n                <Col />\n                {this.state.Role === 2 ? (\n                  <Fragment />\n                ) : (\n                  <Col>\n                    <center>\n                      <Button\n                        onClick={() => {\n                          const GroupDietFilter = this.props.GroupDietFilter;\n                          const DietCowS = this.props.DietCowS;\n                          const CowGroupFilter = this.props.CowGroupFilter;\n\n                          const GroupDiet = GroupDietFilter.filter(\n                            GroupDiet => {\n                              if (\n                                GroupDiet.idGroup == this.props.detail.idGroupe\n                              )\n                                return GroupDiet;\n                            }\n                          );\n                          this.setState({\n                            GroupDiet\n                          });\n\n                          const GroupCows = CowGroupFilter.filter(CowGroupe => {\n                            if (\n                              CowGroupe.idGroupe == this.props.detail.idGroupe\n                            )\n                              return CowGroupe;\n                          });\n\n                          const vachesState = [];\n                          const oldDietAffectation = [];\n                          const vach = this.props.vaches;\n                          for (let i = 0; i < vach.length; i++) {\n                            const GroupCows1 = GroupCows.filter(CowGroupe => {\n                              if (CowGroupe.idVache == vach[i].id)\n                                return CowGroupe;\n                            });\n                            if (GroupCows1 != 0) {\n                              const CowDiet = DietCowS.filter(DietCow => {\n                                if (DietCow.idCow == vach[i].id) return DietCow;\n                              });\n                              const DietAffectation = this.compareDiets(\n                                CowDiet,\n                                GroupDiet\n                              );\n                              if (DietAffectation) {\n                                oldDietAffectation.push(vach[i].id);\n                              }\n                              var v = {\n                                id: vach[i].id,\n                                name: vach[i].name,\n                                type: vach[i].type,\n                                DateCow: vach[i].DateCow,\n                                existance: true,\n                                DietAffectation\n                              };\n                            } else {\n                              var v = {\n                                id: vach[i].id,\n                                name: vach[i].name,\n                                type: vach[i].type,\n                                DateCow: vach[i].DateCow,\n                                existance: false,\n                                DietAffectation: false\n                              };\n                            }\n                            vachesState.push(v);\n                          }\n                          console.log(oldDietAffectation);\n                          this.setState({\n                            vachesState,\n                            oldDietAffectation,\n                            GroupCow: GroupCows,\n                            change: { GroupeName: this.props.detail.GroupeName }\n                          });\n                          this.getDietGroup(this.props.detail.idGroupe).then(\n                            GroupDiet => {\n                              this.setState({\n                                GroupDiet: GroupDiet.data\n                              });\n                            }\n                          );\n                        }}\n                        outline\n                        pill\n                        theme=\"danger\"\n                      >\n                        <FontAwesomeIcon size=\"lg\" icon={faRedo} />\n                      </Button>\n                      &nbsp; &nbsp;&nbsp; &nbsp;\n                      <Button\n                        type=\"submit\"\n                        outline\n                        pill\n                        theme=\"primary\"\n                        onClick={this.submitGroupDiet}\n                      >\n                        <FontAwesomeIcon size=\"lg\" icon={faCheck} />\n                      </Button>\n                    </center>\n                  </Col>\n                )}{' '}\n              </Row>{' '}\n              <br />\n            </Col>\n          </Form>\n        </SlidingPane>\n      </Fragment>\n    );\n  };\n  /** ***************************Traitement Group & Diet********************* */\n\n  submitGroupDiet = e => {\n    e.preventDefault();\n    const {\n      GroupDiet,\n      GroupCow,\n      vachesState,\n      change,\n      oldDietAffectation\n    } = this.state;\n    const idGroup = this.props.detail.idGroupe;\n    const idGroupe_vachesOld = [];\n    const idGroupe_vachesNew = [];\n    const DietCowEdited = [];\n    const GroupCowNew = [];\n\n    if (this.state.change.GroupeName == '') {\n      this.setState({\n        validGroupeName: true,\n        InvalidGroupeName: false\n      });\n    } else\n      this.setState({\n        validGroupeName: false,\n        InvalidGroupeName: true\n      });\n\n    let unicite = false;\n    if (this.state.change.GroupeName != '') {\n      const { group } = this.props;\n      console.log('group');\n      console.log(group);\n      const groupe = group.filter(groupe => {\n        if (groupe.GroupeName == this.state.change.GroupeName) return groupe;\n      });\n      console.log('groupe');\n      console.log(groupe);\n      console.log('groupe length');\n      console.log(groupe.length);\n      console.log('groupe idGroup');\n      console.log(idGroup);\n\n      if (groupe.length > 0) {\n        if (groupe.length === 1 && groupe[0].idGroupe === idGroup) {\n          unicite = true;\n        } else {\n          NotificationManager.error('Nom existant', '', 3000);\n        }\n      } else {\n        unicite = true;\n      }\n    }\n    if (this.state.change.GroupeName != '' && unicite) {\n      this.setState({\n        visible: false\n      });\n      for (let p = 0; p < GroupCow.length; p++) {\n        idGroupe_vachesOld.push(GroupCow[p].idGroupe_vaches);\n      }\n      for (let k = 0; k < vachesState.length; k++) {\n        if (vachesState[k].existance) {\n          idGroupe_vachesNew.push(vachesState[k].id);\n          GroupCowNew.push({ idVache: vachesState[k].id, idGroupe: idGroup });\n        }\n        if (vachesState[k].DietAffectation)\n          DietCowEdited.push(vachesState[k].id);\n      }\n\n      this.props.editGroup(\n        this.props.index,\n        change,\n        GroupDiet,\n        this.props.detail.idGroupe,\n        GroupCowNew,\n        DietCowEdited,\n        idGroupe_vachesNew,\n        oldDietAffectation\n      );\n      this.setState({\n        visible: false,\n        GroupDiet: [],\n        vachesState: []\n      });\n    }\n  };\n\n  deleteGroupDiet = index => {\n    const { GroupDietDeleted, GroupDiet } = this.state;\n    const GroupDietD = GroupDiet[index];\n    GroupDietDeleted.push(GroupDietD.idDiet_Group);\n    GroupDiet.splice(index, 1);\n    this.setState({\n      GroupDiet\n    });\n    // this.deleteMethode(GroupDietDeleted.idProgram)\n  };\n\n  editGroupDiet = (index, change) => {\n    const { GroupDiet } = this.state;\n    const GroupDiets = GroupDiet[index];\n    for (const i in change) {\n      GroupDiets[i] = change[i];\n    }\n\n    this.setState({\n      GroupDiet\n    });\n  };\n\n  addGroupDiet = a => {\n    const { GroupDiet, GroupDietAdd } = this.state;\n    GroupDietAdd.push(a);\n    GroupDiet.push(a);\n\n    this.setState({\n      GroupDiet,\n      GroupDietAdd\n    });\n  };\n\n  /** ********************Traitement Vache & Group********************** */\n\n  handleChange = e => {\n    const { edit, group, change } = this.state;\n    change[e.target.id] = e.target.value;\n    this.setState({\n      edit,\n      group,\n      change\n    });\n  };\n  /*\n    MethodeEditGroupe = (\n    idGroup,\n    idGroupe_vachesNew,\n    GroupDiet,\n    DietCowEdited\n  ) => {\n    const post = JSON.stringify({\n      idGroup: JSON.stringify(idGroup),\n      idGroupe_vachesNew: JSON.stringify(idGroupe_vachesNew),\n      GroupDiet: JSON.stringify(GroupDiet),\n      DietCowEdited: JSON.stringify(DietCowEdited)\n    });\n    const formbody = [`${'post' + '='}${post}`];\n    const datas = fetch(`${Config.url}/groupe/EditGroupe`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(reponse => {\n        return reponse.json();\n      })\n      .catch(err => console.error(err));\n\n    return datas;\n  };\n  \n   getCowGroup = idGroup => {\n    const url = `${Config.url}/GroupCow?idGroupe=`;\n    const datas = fetch(url + idGroup)\n      .then(reponse => {\n        return reponse.json();\n        // })\n        // .then(({data}) => {\n      })\n      .catch(err => console.error(err));\n\n    return datas;\n  };\n\n\n    handleChangeName = e => {\n    const { change } = this.state;\n    change[e.target.id] = e.target.value;\n    this.setState({\n      change\n    });\n  };\n\n  editing = () => {\n    const { edit, vache } = this.state;\n\n    this.setState({\n      edit: !edit,\n      vache\n    });\n  };\n  \n  onEdit = e => {\n    e.preventDefault();\n\n    const change = this.state.change;\n\n    this.props.editGroup(this.props.index, change);\n    this.editing();\n  };\n/*\n  updateGMethode(idGroupe, a) {\n    const encodedKeyid = encodeURIComponent('idGroupe');\n    const encodedKeyname = encodeURIComponent('GroupeName');\n\n    const encodedvalid = encodeURIComponent(idGroupe);\n    const encodedvalname = encodeURIComponent(a.GroupeName);\n    let formbody = [\n      `${encodedKeyid}=${encodedvalid}`,\n      `${encodedKeyname}=${encodedvalname}`\n    ];\n    formbody = formbody.join('&');\n\n    fetch(`${Config.url}/groupe/update`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(response => response.json())\n      .then(responseText => {\n        console.log(responseText);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  DietCowEdited(DietCowEdited, GroupDiet) {\n    const post = JSON.stringify({\n      DietCowEdited: JSON.stringify(DietCowEdited),\n      GroupDiet: JSON.stringify(GroupDiet)\n    });\n    const formbody = [`${'post' + '='}${post}`];\n    fetch(`${Config.url}/DietCow/Edit`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(responseText => {\n        return responseText.json();\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }\n/*\n  PostGroupeVacheEdit(idGroupe_vachesOld, idGroupe_vachesNew, idGroupe) {\n    const encodedKeyidGroupe = encodeURIComponent('idGroupe');\n    const encodedKeyidGroupe_vachesOld = encodeURIComponent(\n      'idGroupe_vachesOld'\n    );\n    const encodedKeyidGroupe_vachesNew = encodeURIComponent(\n      'idGroupe_vachesNew'\n    );\n\n    const encodedvalidGroupe = encodeURIComponent(idGroupe);\n    const encodedvalidGroupe_vachesOld = encodeURIComponent(idGroupe_vachesOld);\n    const encodedvalidGroupe_vachesNew = encodeURIComponent(idGroupe_vachesNew);\n\n    let formbody = [\n      `${encodedKeyidGroupe}=${encodedvalidGroupe}`,\n      `${encodedKeyidGroupe_vachesOld}=${encodedvalidGroupe_vachesOld}`,\n      `${encodedKeyidGroupe_vachesNew}=${encodedvalidGroupe_vachesNew}`\n    ];\n    formbody = formbody.join('&');\n\n    fetch(`${Config.url}/GroupEdit`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(responseText => {\n        return responseText.json();\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }\n  /*\n  PostGroupeDieteEdit(GroupDietDeleted, GroupDiet, GroupDietAdd, idGroupe) {\n    const post = JSON.stringify({\n      GroupDietDeleted: JSON.stringify(GroupDietDeleted),\n      GroupDiet: JSON.stringify(GroupDiet),\n      GroupDietAdd: JSON.stringify(GroupDietAdd),\n      idGroupe\n    });\n    const formbody = [`${'post' + '='}${post}`];\n    fetch(`${Config.url}/DietGroup/Edit`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(responseText => {\n        return responseText.json();\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }\n  */\n\n  handleChangechekbox(e, index) {\n    const { vachesState } = this.state;\n\n    const v = vachesState[index];\n\n    v.existance = !v.existance;\n    if (v.existance == false) v.DietAffectation = false;\n\n    this.setState({\n      vachesState\n    });\n  }\n\n  NodeletedNotification() {\n    NotificationManager.warning('Groupe non supprimer', '', 3000);\n  }\n\n  deletedNotification(GroupeName) {\n    NotificationManager.info(`Groupe supprimer ${GroupeName}`);\n  }\n\n  handleChangechekbox2(e, index) {\n    const { vachesState } = this.state;\n\n    const v = vachesState[index];\n    v.DietAffectation = !v.DietAffectation;\n    this.setState({\n      vachesState\n    });\n  }\n\n  render() {\n    return <Fragment>{this.renderActions()}</Fragment>;\n  }\n}\n\nexport default RowGroup2;\n"]},"metadata":{},"sourceType":"module"}