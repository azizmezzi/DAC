{"ast":null,"code":"import _defineProperty from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/aziz/Bureau/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/aziz/Bureau/ap/src/views/RegimeView/Fooder/formFooder.js\";\n\n/* eslint-disable array-callback-return */\n\n/* eslint-disable consistent-return */\n\n/* eslint-disable eqeqeq */\n\n/* eslint-disable react/destructuring-assignment */\n\n/* eslint-disable jsx-a11y/label-has-associated-control */\n\n/* eslint-disable jsx-a11y/label-has-for */\nimport React, { Component } from 'react';\nimport { ListGroup, ListGroupItem, Row, Col, Form, FormInput, Button } from 'shards-react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faRedo } from '@fortawesome/free-solid-svg-icons';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport { Config } from '../../../configue';\n\nvar FormGroupv =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormGroupv, _Component);\n\n  function FormGroupv() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FormGroupv);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FormGroupv)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      FooderName: '',\n      density: 0,\n      InvalidFooderName: false,\n      validFooderName: false,\n      InvalidDensity: false,\n      validDensity: false\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    };\n\n    _this.Submiting = function (e) {\n      e.preventDefault();\n      console.log('**********');\n      console.log(_this.state);\n      console.log('**********');\n\n      if (_this.state.FooderName === '') {\n        _this.setState({\n          validFooderName: true,\n          InvalidFooderName: false\n        });\n      } else _this.setState({\n        validFooderName: false,\n        InvalidFooderName: true\n      });\n\n      if (_this.state.density == 0) {\n        _this.setState({\n          validDensity: true,\n          InvalidDensity: false\n        });\n      } else _this.setState({\n        validDensity: false,\n        InvalidDensity: true\n      });\n\n      var unicite = false;\n\n      if (_this.state.FooderName != '') {\n        var Fooder = _this.props.Fooder;\n        console.log('vaches');\n        console.log(Fooder); // eslint-disable-next-line no-shadow\n\n        var Food = Fooder.filter(function (Food) {\n          if (Food.FooderName == _this.state.FooderName) return Food;\n        });\n        console.log('vache');\n        console.log(Food);\n\n        if (Food.length == 0) {\n          unicite = true;\n        } else {\n          NotificationManager.error('Nom existant', '', 3000);\n        }\n      }\n\n      if (_this.state.FooderName != '' && _this.state.density != 0 && unicite) {\n        _this.postMethode(_this.state).then(function (idFood) {\n          var id = idFood.data;\n          console.log(\"***************\");\n          console.log(id); // eslint-disable-next-line react/destructuring-assignment\n\n          _this.props.add(_this.state, id);\n\n          _this.setState({\n            FooderName: '',\n            density: 0,\n            validFooderName: false,\n            InvalidFooderName: true\n          });\n        });\n      }\n    };\n\n    _this.postMethode = function (a) {\n      var encodedKeyFooderName = encodeURIComponent('FooderName');\n      var encodedKeydensity = encodeURIComponent('density');\n      var encodedvalFooderName = encodeURIComponent(a.FooderName);\n      var encodedvaldensity = encodeURIComponent(a.density);\n      var formbody = [\"\".concat(encodedKeyFooderName, \"=\").concat(encodedvalFooderName), \"\".concat(encodedKeydensity, \"=\").concat(encodedvaldensity)];\n      formbody = formbody.join('&'); // eslint-disable-next-line no-undef\n\n      var data = fetch(\"\".concat(Config.url, \"/fooder\"), {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n\n        },\n        body: formbody // <-- Post parameters\n\n      }).then(function (responseText) {\n        return responseText.json();\n      }).catch(function (error) {\n        console.error(error);\n      });\n      return data;\n    };\n\n    return _this;\n  }\n\n  _createClass(FormGroupv, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(this.state);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(ListGroup, {\n        flush: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(ListGroupItem, {\n        className: \"p-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.Submiting,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"FooderName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Nom Aliment \"), React.createElement(FormInput, {\n        valid: this.state.InvalidFooderName,\n        invalid: this.state.validFooderName,\n        id: \"FooderName\",\n        name: \"FooderName\",\n        type: \"text\",\n        placeholder: \"FooderName\",\n        onChange: this.handleChange,\n        value: this.state.FooderName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"density\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Dose unitaire\"), React.createElement(FormInput, {\n        valid: this.state.InvalidDensity,\n        invalid: this.state.validDensity,\n        id: \"density\",\n        name: \"density\",\n        type: \"number\",\n        placeholder: \"g\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Button, {\n        outline: true,\n        pill: true,\n        theme: \"danger\",\n        onClick: function onClick() {\n          _this2.setState({\n            FooderName: '',\n            density: 0\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        size: \"lg\",\n        icon: faRedo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      })))), React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }), React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(Button, {\n        outline: true,\n        pill: true,\n        theme: \"primary\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        size: \"lg\",\n        icon: faCheck,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }))))))))), React.createElement(ListGroupItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(NotificationContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return FormGroupv;\n}(Component);\n\nexport default FormGroupv;","map":{"version":3,"sources":["/home/aziz/Bureau/ap/src/views/RegimeView/Fooder/formFooder.js"],"names":["React","Component","ListGroup","ListGroupItem","Row","Col","Form","FormInput","Button","FontAwesomeIcon","faCheck","faRedo","NotificationContainer","NotificationManager","Config","FormGroupv","state","FooderName","density","InvalidFooderName","validFooderName","InvalidDensity","validDensity","handleChange","e","setState","target","id","value","Submiting","preventDefault","console","log","unicite","Fooder","props","Food","filter","length","error","postMethode","then","idFood","data","add","a","encodedKeyFooderName","encodeURIComponent","encodedKeydensity","encodedvalFooderName","encodedvaldensity","formbody","join","fetch","url","method","headers","Accept","body","responseText","json","catch"],"mappings":"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","sourcesContent":["/* eslint-disable array-callback-return */\n/* eslint-disable consistent-return */\n/* eslint-disable eqeqeq */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable jsx-a11y/label-has-for */\nimport React, { Component } from 'react';\nimport {\n  ListGroup,\n  ListGroupItem,\n  Row,\n  Col,\n  Form,\n  FormInput,\n  Button\n} from 'shards-react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faRedo } from '@fortawesome/free-solid-svg-icons';\nimport {\n  NotificationContainer,\n  NotificationManager\n} from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport { Config } from '../../../configue';\n\nclass FormGroupv extends Component {\n  state = {\n    FooderName: '',\n    density: 0,\n    InvalidFooderName: false,\n    validFooderName: false,\n    InvalidDensity: false,\n    validDensity: false\n  };\n\n  componentDidMount() {\n    console.log(this.state);\n  }\n\n  handleChange = e => {\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  };\n\n  Submiting = e => {\n    e.preventDefault();\n    console.log('**********');\n\n    console.log(this.state);\n    console.log('**********');\n    if (this.state.FooderName === '') {\n      this.setState({\n        validFooderName: true,\n        InvalidFooderName: false\n      });\n    } else\n      this.setState({\n        validFooderName: false,\n        InvalidFooderName: true\n      });\n    if (this.state.density == 0) {\n      this.setState({\n        validDensity: true,\n        InvalidDensity: false\n      });\n    } else\n      this.setState({\n        validDensity: false,\n        InvalidDensity: true\n      });\n    let unicite = false;\n    if (this.state.FooderName != '') {\n      const { Fooder } = this.props;\n      console.log('vaches');\n      console.log(Fooder);\n      // eslint-disable-next-line no-shadow\n      const Food = Fooder.filter(Food => {\n        if (Food.FooderName == this.state.FooderName) return Food;\n      });\n      console.log('vache');\n      console.log(Food);\n      if (Food.length == 0) {\n        unicite = true;\n      } else {\n        NotificationManager.error('Nom existant', '', 3000);\n      }\n    }\n    if (this.state.FooderName != '' && this.state.density != 0 && unicite) {\n      this.postMethode(this.state).then(idFood => {\n        const id = idFood.data;\n        console.log(\"***************\")\n        console.log(id)\n        // eslint-disable-next-line react/destructuring-assignment\n        this.props.add(this.state , id);\n        this.setState({\n          FooderName: '',\n          density: 0,\n          validFooderName: false,\n          InvalidFooderName: true\n        });\n      });\n    }\n  };\n\n  postMethode = a => {\n    const encodedKeyFooderName = encodeURIComponent('FooderName');\n    const encodedKeydensity = encodeURIComponent('density');\n\n    const encodedvalFooderName = encodeURIComponent(a.FooderName);\n    const encodedvaldensity = encodeURIComponent(a.density);\n    let formbody = [\n      `${encodedKeyFooderName}=${encodedvalFooderName}`,\n      `${encodedKeydensity}=${encodedvaldensity}`\n    ];\n    formbody = formbody.join('&');\n\n    // eslint-disable-next-line no-undef\n    const data = fetch(`${Config.url}/fooder`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded' // <-- Specifying the Content-Type\n      },\n      body: formbody // <-- Post parameters\n    })\n      .then(responseText => {\n        return responseText.json();\n      })\n      .catch(error => {\n        console.error(error);\n      });\n      return data;\n  };\n\n  render() {\n    return (\n      <ListGroup flush>\n        <ListGroupItem className=\"p-3\">\n          <Row>\n            <Col>\n              <Form onSubmit={this.Submiting}>\n                <Row form>\n                  <Col md=\"6\" className=\"form-group\">\n                    <label htmlFor=\"FooderName\">Nom Aliment </label>\n                    <FormInput\n                      valid={this.state.InvalidFooderName}\n                      invalid={this.state.validFooderName}\n                      id=\"FooderName\"\n                      name=\"FooderName\"\n                      type=\"text\"\n                      placeholder=\"FooderName\"\n                      onChange={this.handleChange}\n                      value={this.state.FooderName}\n                    />\n                  </Col>\n                  <Col md=\"6\" className=\"form-group\">\n                    <label htmlFor=\"density\">Dose unitaire</label>\n                    <FormInput\n                      valid={this.state.InvalidDensity}\n                      invalid={this.state.validDensity}\n                      id=\"density\"\n                      name=\"density\"\n                      type=\"number\"\n                      placeholder=\"g\"\n                      onChange={this.handleChange}\n                    />\n                  </Col>\n                </Row>\n\n                <Row form>\n                  <Col md=\"6\" className=\"form-group\">\n                    <br />\n                    <center>\n                      <Button\n                        outline\n                        pill\n                        theme=\"danger\"\n                        onClick={() => {\n                          this.setState({\n                            FooderName: '',\n                            density: 0\n                          });\n                        }}\n                      >\n                        <FontAwesomeIcon size=\"lg\" icon={faRedo} />\n                      </Button>\n                    </center>\n                  </Col>\n                  <Col md=\"6\" className=\"form-group\">\n                    <br />\n                    <center>\n                      <Button outline pill theme=\"primary\" type=\"submit\">\n                        <FontAwesomeIcon size=\"lg\" icon={faCheck} />\n                      </Button>\n                    </center>\n                  </Col>\n                </Row>\n              </Form>\n            </Col>\n          </Row>\n        </ListGroupItem>\n        <ListGroupItem>\n          <Row>\n            <NotificationContainer />\n          </Row>\n        </ListGroupItem>\n      </ListGroup>\n    );\n  }\n}\n\nexport default FormGroupv;\n"]},"metadata":{},"sourceType":"module"}