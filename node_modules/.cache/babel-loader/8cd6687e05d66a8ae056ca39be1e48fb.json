{"ast":null,"code":"import _classCallCheck from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/aziz/Bureau/project/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/aziz/Bureau/project/ap/src/views/vachesView/vache/rowVache2.js\";\n\n/* eslint-disable react/no-unused-state */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n/* eslint-disable react/jsx-curly-brace-presence */\n\n/* eslint-disable react/no-access-state-in-setstate */\n\n/* eslint-disable jsx-a11y/label-has-associated-control */\n\n/* eslint-disable jsx-a11y/label-has-for */\n\n/* eslint-disable array-callback-return */\n\n/* eslint-disable consistent-return */\n\n/* eslint-disable no-console */\n\n/* eslint-disable no-redeclare */\n\n/* eslint-disable block-scoped-var */\n\n/* eslint-disable vars-on-top */\n\n/* eslint-disable no-var */\n\n/* eslint-disable no-restricted-syntax */\n\n/* eslint-disable no-plusplus */\n\n/* eslint-disable react/destructuring-assignment */\nimport React, { Component, Fragment } from 'react'; // eslint-disable-next-line import/no-extraneous-dependencies\n\nimport Modal from 'react-modal';\nimport { FormTextarea, FormInput, Row, ButtonGroup, Button, Col, Card, Form, FormCheckbox, CardBody, FormSelect } from 'shards-react';\nimport SlidingPane from 'react-sliding-pane';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport MaterialTable from 'material-table';\nimport 'rodal/lib/rodal.css';\nimport { faPlus, faTimes, faCheck, faRedo, faTrash, faPencilAlt } from '@fortawesome/free-solid-svg-icons';\nimport Popover, { ArrowContainer } from 'react-tiny-popover';\nimport { FloatingMenu, MainButton } from 'react-floating-button-menu';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport RowCowDiet from './CowDiet/RowCowDiet';\nimport FormCowDiet from './CowDiet/FormCowDiet';\nimport { Config } from '../../../configue';\nimport '../hover.css';\nimport '../../../style/scrollerdesign.css';\nimport '../../../style/scrollerdesign2.css';\n\nvar RowVache2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RowVache2, _Component);\n\n  function RowVache2(props) {\n    var _this;\n\n    _classCallCheck(this, RowVache2);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RowVache2).call(this, props));\n    _this.state = {\n      viewDietCow: false,\n      // eslint-disable-next-line react/no-unused-state\n      visible: false,\n      visibleEditCow: false,\n      groupData: [],\n      edit: false,\n      vache: [],\n      change: {\n        CINCOW: _this.props.detail.CINCOW,\n        name: _this.props.detail.name,\n        DateCow: _this.props.detail.DateCow,\n        weight: _this.props.detail.weight,\n        note: _this.props.detail.note\n      },\n      CowDiet: [],\n      // eslint-disable-next-line react/no-unused-state\n      Diets: [],\n      CowDietDeleted: [],\n      CowDietAdd: [],\n      // eslint-disable-next-line react/no-unused-state\n      GroupDiet: [],\n      groupeId: [],\n      // eslint-disable-next-line react/no-unused-state\n      groupeIdCompare: [],\n      invalidname: false,\n      validname: false,\n      invalidReference: false,\n      validReference: false\n    };\n\n    _this.componentDidMount = function () {\n      Modal.setAppElement('body');\n    };\n\n    _this.getDietCow = function (idCow) {\n      var url = \"\".concat(Config.url, \"/DietCow?idCow=\"); // eslint-disable-next-line no-undef\n\n      var datas = fetch(url + idCow).then(function (reponse) {\n        return reponse.json();\n      }) // eslint-disable-next-line no-console\n      .catch(function (err) {\n        return console.error(err);\n      });\n      return datas;\n    };\n\n    _this.compareDiets = function (CowDiet, GroupDiet) {\n      var temp = [];\n      var array1 = [];\n      var array2 = []; // eslint-disable-next-line no-plusplus\n\n      for (var _i = 0; _i < GroupDiet.length; _i++) {\n        var begin = new Date(GroupDiet[_i].begin);\n        var end = new Date(GroupDiet[_i].end);\n        var begin1 = \"\".concat(begin.getDate()).concat(begin.getDay()).concat(begin.getFullYear());\n        var end1 = \"\".concat(end.getDate()).concat(end.getDay()).concat(end.getFullYear());\n        var str = \"\".concat(GroupDiet[_i].idDiet + begin1 + end1);\n        array1.push(str);\n      }\n\n      for (var _i2 = 0; _i2 < CowDiet.length; _i2++) {\n        var begin2 = new Date(CowDiet[_i2].begin);\n        var end2 = new Date(CowDiet[_i2].end);\n        var begin3 = \"\".concat(begin2.getDate()).concat(begin2.getDay()).concat(begin2.getFullYear());\n        var end3 = \"\".concat(end2.getDate()).concat(end2.getDay()).concat(end2.getFullYear());\n        var str2 = \"\".concat(CowDiet[_i2].idDiet + begin3 + end3);\n        array2.push(str2);\n      } // eslint-disable-next-line vars-on-top\n\n\n      for (var i in array1) {\n        if (array2.indexOf(array1[i]) === -1) temp.push(array1[i]);\n      } // eslint-disable-next-line block-scoped-var\n\n\n      for (i in array2) {\n        // eslint-disable-next-line block-scoped-var\n        if (array1.indexOf(array2[i]) === -1) temp.push(array2[i]);\n      }\n\n      if (temp.length === 0) {\n        var result = true;\n      } else var result = false;\n\n      return result;\n    };\n\n    _this.showEditCow = function () {\n      var _this$props = _this.props,\n          CowGroupFilter = _this$props.CowGroupFilter,\n          DietCowS = _this$props.DietCowS,\n          GroupDietFilter = _this$props.GroupDietFilter;\n      var _this$state = _this.state,\n          groupeId = _this$state.groupeId,\n          groupData = _this$state.groupData; // eslint-disable-next-line array-callback-return\n      // eslint-disable-next-line consistent-return\n      // eslint-disable-next-line array-callback-return\n\n      var GroupCows = CowGroupFilter.filter(function (CowGroupe) {\n        if (CowGroupe.idVache === _this.props.detail.id) return CowGroupe;\n      });\n\n      for (var i = 0; i < GroupCows.length; i++) {\n        groupeId.push(GroupCows[i].idGroupe);\n      }\n\n      _this.setState({\n        // eslint-disable-next-line react/no-unused-state\n        GroupCow: GroupCows,\n        groupeId: groupeId\n      }); // eslint-disable-next-line array-callback-return\n\n\n      var CowDiet = DietCowS.filter(function (DietCow) {\n        if (DietCow.idCow === _this.props.detail.id) return DietCow;\n      });\n\n      _this.setState({\n        CowDiet: CowDiet\n      });\n\n      var group = _this.props.group;\n\n      for (var j = 0; j < group.length; j++) {\n        var v = {\n          idGroupe: group[j].idGroupe,\n          GroupeName: group[j].GroupeName,\n          note: group[j].note,\n          existance: false,\n          DietAffectation: 0,\n          DietAffectationNew: 0\n        };\n        groupData.push(v);\n      }\n\n      var _loop = function _loop(_i3) {\n        // eslint-disable-next-line array-callback-return\n        // eslint-disable-next-line no-shadow\n        var GroupDiet = GroupDietFilter.filter(function (GroupDiet) {\n          if (GroupDiet.idGroup === groupeId[_i3]) return GroupDiet;\n        });\n\n        var result = _this.compareDiets(GroupDiet, CowDiet);\n\n        for (var _j = 0; _j < groupData.length; _j++) {\n          if (groupData[_j].idGroupe === groupeId[_i3]) {\n            groupData[_j].existance = true;\n\n            if (result) {\n              groupData[_j].DietAffectation = groupeId[_i3];\n            }\n          }\n        }\n\n        _this.setState({\n          groupData: groupData\n        });\n      };\n\n      for (var _i3 = 0; _i3 < groupeId.length; _i3++) {\n        _loop(_i3);\n      }\n      /** ************************************************************ */\n\n\n      _this.setState({\n        visibleEditCow: true\n      });\n    };\n\n    _this.hideEditCow = function () {\n      _this.setState({\n        visibleEditCow: false,\n        viewDietCow: false\n      });\n    };\n\n    _this.propreDiet = function () {\n      return React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(Button, {\n        outline: true,\n        pill: true,\n        theme: \"info\",\n        onClick: function onClick() {\n          var _this$state2 = _this.state,\n              groupData = _this$state2.groupData,\n              viewDietCow = _this$state2.viewDietCow;\n\n          for (var i = 0; i < groupData.length; i++) {\n            groupData[i].DietAffectation = 0;\n          }\n\n          _this.setState({\n            groupData: groupData,\n            viewDietCow: !viewDietCow\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faPlus,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }), \" \\xA0 \\xA0 regime special\")), ' ', React.createElement(Col, {\n        lg: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \" \"));\n    };\n\n    _this.CowDietChange = function () {\n      var CowDiet = _this.state.CowDiet; // eslint-disable-next-line prefer-destructuring\n\n      var length = CowDiet.length;\n      var CowDietListe = length ? CowDiet.map(function (valeur, index) {\n        var Diet = _this.props.Diet;\n        var lengthF = Diet.length;\n\n        for (var i = 0; i < lengthF; i++) {\n          if (Diet[i].idDiet === valeur.idDiet) {\n            // eslint-disable-next-line prefer-destructuring\n            var DietName = Diet[i].DietName;\n          }\n        }\n\n        return React.createElement(RowCowDiet, {\n          Diet: Diet,\n          DietName: DietName,\n          detail: valeur // eslint-disable-next-line react/no-array-index-key\n          ,\n          key: index,\n          index: index,\n          delete: _this.delete,\n          edit: _this.edit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        });\n      }) : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, \"no more\");\n      return React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"tables2 table mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"thead-dark thead2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0 th2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, \"Regime\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0 th2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \"Debut\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0 th2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, \"Fin\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0 th2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, \"action\"))), React.createElement(\"tbody\", {\n        className: \"tbody3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, CowDietListe), React.createElement(FormCowDiet, {\n        Diet: _this.props.Diet,\n        add: _this.add,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }))));\n    };\n\n    _this.deletedCow = function () {\n      confirmAlert({\n        title: 'supprimer ',\n        message: 'Vous etes sur de supprimer cette vache ?',\n        buttons: [{\n          label: 'Yes',\n          onClick: function onClick() {\n            _this.deletedNotification(_this.props.detail.name);\n\n            _this.props.delete(_this.props.index);\n          }\n        }, {\n          label: 'No',\n          onClick: function onClick() {\n            _this.NodeletedNotification();\n          }\n        }]\n      });\n    };\n\n    _this.renderActions = function () {\n      var isPopoverOpen = _this.state.isPopoverOpen; // eslint-disable-next-line prefer-destructuring\n\n      var vache = _this.props.vaches;\n      var ListeVaches = vache.map(function (valeur, index) {\n        return (// eslint-disable-next-line react/no-array-index-key\n          React.createElement(\"option\", {\n            value: valeur.id,\n            key: index,\n            onChange: _this.handleChange,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 351\n            },\n            __self: this\n          }, valeur.name)\n        );\n      });\n      var groupData = _this.state.groupData;\n      var groupListe2 = groupData.map(function (valeur, index) {\n        var v = {\n          idVache: valeur.id,\n          name: valeur.GroupeName,\n          affectation: React.createElement(FormCheckbox, {\n            toggle: true,\n            small: true,\n            checked: valeur.existance,\n            onChange: function onChange(e) {\n              return _this.handleChangechekbox(e, index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 363\n            },\n            __self: this\n          }),\n          Programme: valeur.existance ? React.createElement(FormCheckbox, {\n            inline: true,\n            name: \"sport\",\n            checked: valeur.DietAffectation === valeur.idGroupe,\n            onChange: function onChange() {\n              _this.handleChangechekbox2(valeur.idGroupe, index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 371\n            },\n            __self: this\n          }, \"Program \", index) : React.createElement(Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 382\n            },\n            __self: this\n          })\n        };\n        return v;\n      });\n      var columnsGroupe = [{\n        title: 'Nom Groupe',\n        field: 'name'\n      }, {\n        title: 'affectation',\n        field: 'affectation'\n      }, {\n        title: 'Programme',\n        field: 'Programme'\n      }];\n      console.log(_this.state.change.note);\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }, React.createElement(Button, {\n        outline: true,\n        pill: true,\n        theme: \"success\",\n        onClick: function onClick() {\n          return _this.showEditCow();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        size: \"lg\",\n        icon: faPencilAlt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      })), React.createElement(Button, {\n        outline: true,\n        pill: true,\n        theme: \"danger\",\n        onClick: function onClick() {\n          _this.deletedCow();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        size: \"lg\",\n        icon: faTrash,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423\n        },\n        __self: this\n      }))), React.createElement(NotificationContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }), React.createElement(SlidingPane, {\n        className: \"some-custom-class\",\n        overlayClassName: \"some-custom-overlay-class\",\n        title: \"Fermer\",\n        subtitle: \"Fermer ajout de vache.\",\n        width: \"58%\",\n        from: \"left\",\n        isOpen: _this.state.visibleEditCow,\n        onRequestClose: function onRequestClose() {\n          // triggered on \"<\" on left top click or on outside click\n          _this.setState({\n            visibleEditCow: false,\n            groupData: []\n          });\n\n          _this.props.changeFilter(false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: \"4\",\n        md: \"6\",\n        sm: \"12\",\n        className: \"mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }), React.createElement(Col, {\n        lg: \"8\",\n        md: \"6\",\n        sm: \"12\",\n        className: \"mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }, React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"CINCOW\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, \"reference\"), React.createElement(FormInput, {\n        valid: _this.state.invalidReference,\n        invalid: _this.state.validReference,\n        id: \"CINCOW\",\n        type: \"number\",\n        onChange: _this.handleChange,\n        value: _this.state.change.CINCOW,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"Code\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462\n        },\n        __self: this\n      }, \"nom vache\"), React.createElement(FormInput, {\n        valid: _this.state.invalidname,\n        invalid: _this.state.validname,\n        id: \"name\",\n        type: \"text\",\n        onChange: _this.handleChange,\n        value: _this.state.change.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"DateCow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }, \"date \"), React.createElement(FormInput, {\n        id: \"DateCow\",\n        type: \"date\",\n        placeholder: \"DateCow\",\n        onChange: _this.handleChange,\n        value: _this.state.change.DateCow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"poid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485\n        },\n        __self: this\n      }, \"poid\"), React.createElement(FormInput, {\n        id: \"weight\",\n        type: \"number\",\n        placeholder: \"poid du Vache\",\n        onChange: _this.handleChange,\n        value: _this.state.change.weight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"Father\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497\n        },\n        __self: this\n      }, \"pere\"), React.createElement(FormSelect, {\n        id: \"Father\",\n        onChange: _this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499\n        },\n        __self: this\n      }, \"---\"), ListeVaches)), React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"Mother\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505\n        },\n        __self: this\n      }, \"mere\"), React.createElement(FormSelect, {\n        id: \"Mother\",\n        onChange: _this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507\n        },\n        __self: this\n      }, \"---\"), ListeVaches))), React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 514\n        },\n        __self: this\n      }, \"type\"), React.createElement(FormSelect, {\n        id: \"type\",\n        onChange: _this.handleChange,\n        defaultValue: \"sein\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"sein\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520\n        },\n        __self: this\n      }, \"sein\"), React.createElement(\"option\", {\n        value: \"encinte\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522\n        },\n        __self: this\n      }, \"encinte\"), React.createElement(\"option\", {\n        value: \"malade\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523\n        },\n        __self: this\n      }, \"malade\"))), React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 526\n        },\n        __self: this\n      }, React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527\n        },\n        __self: this\n      }, React.createElement(FloatingMenu, {\n        slideSpeed: 500,\n        direction: \"top\",\n        spacing: 10,\n        isOpen: _this.state.isOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 528\n        },\n        __self: this\n      }, React.createElement(MainButton, {\n        iconResting: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 536\n          },\n          __self: this\n        }, React.createElement(FontAwesomeIcon, {\n          size: \"lg\",\n          icon: faPlus,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 537\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 538\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          htmlFor: \"note\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 539\n          },\n          __self: this\n        }, \"Note\")),\n        iconActive: React.createElement(FontAwesomeIcon, {\n          size: \"lg\",\n          icon: faTimes,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 543\n          },\n          __self: this\n        }),\n        onClick: function onClick() {\n          return _this.setState({\n            isOpen: !_this.state.isOpen\n          });\n        },\n        size: 62,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 534\n        },\n        __self: this\n      }), React.createElement(Popover, {\n        isOpen: isPopoverOpen,\n        position: ['bottom', 'right', 'left', 'top'],\n        padding: 30,\n        onClickOutside: function onClickOutside() {\n          return _this.setState({\n            isPopoverOpen: false\n          });\n        },\n        content: function content(_ref) {\n          var position = _ref.position,\n              targetRect = _ref.targetRect,\n              popoverRect = _ref.popoverRect;\n          return React.createElement(ArrowContainer, {\n            position: position,\n            targetRect: targetRect,\n            popoverRect: popoverRect,\n            arrowColor: '#d3d3d3',\n            arrowSize: 17,\n            arrowStyle: {\n              opacity: 0.7\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 559\n            },\n            __self: this\n          }, React.createElement(Card, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 567\n            },\n            __self: this\n          }, React.createElement(CardBody, {\n            className: \"p-3 pb-3\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 568\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            style: {\n              opacity: 0.7\n            },\n            onClick: function onClick() {\n              return _this.setState({\n                isPopoverOpen: !isPopoverOpen\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 569\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 577\n            },\n            __self: this\n          }), React.createElement(FormTextarea, {\n            className: \"note\",\n            size: \"lg\",\n            cols: \"90\",\n            rows: \"20\",\n            id: \"note\",\n            type: \"text\",\n            placeholder: \"note du Groupe\",\n            onChange: _this.handleChange,\n            value: _this.state.change.note,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 578\n            },\n            __self: this\n          }))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this.setState({\n            isPopoverOpen: !isPopoverOpen\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594\n        },\n        __self: this\n      })))))), React.createElement(MaterialTable, {\n        columns: columnsGroupe,\n        data: groupListe2,\n        title: 'Groupe',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 605\n        },\n        __self: this\n      }), _this.state.viewDietCow ? _this.CowDietChange() : _this.propreDiet(), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 613\n        },\n        __self: this\n      }), React.createElement(Row, {\n        form: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 615\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616\n        },\n        __self: this\n      }), React.createElement(Col, {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 617\n        },\n        __self: this\n      }, React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618\n        },\n        __self: this\n      }, React.createElement(Button, {\n        outline: true,\n        pill: true,\n        theme: \"danger\",\n        onClick: function onClick() {\n          var CowGroupFilter = _this.props.CowGroupFilter;\n          var DietCowS = _this.props.DietCowS;\n          var GroupDietFilter = _this.props.GroupDietFilter;\n          var groupeId = []; // eslint-disable-next-line no-shadow\n\n          var groupData = [];\n          var GroupCows = CowGroupFilter.filter(function (CowGroupe) {\n            if (CowGroupe.idVache === _this.props.detail.id) return CowGroupe;\n          });\n\n          for (var i = 0; i < GroupCows.length; i++) {\n            groupeId.push(GroupCows[i].idGroupe);\n          }\n\n          _this.setState({\n            // eslint-disable-next-line react/no-unused-state\n            GroupCow: GroupCows,\n            groupeId: groupeId\n          });\n\n          var CowDiet = DietCowS.filter(function (DietCow) {\n            if (DietCow.idCow === _this.props.detail.id) return DietCow;\n          });\n\n          _this.setState({\n            CowDiet: CowDiet\n          });\n\n          var group = _this.props.group;\n\n          for (var j = 0; j < group.length; j++) {\n            var v = {\n              idGroupe: group[j].idGroupe,\n              GroupeName: group[j].GroupeName,\n              note: group[j].note,\n              existance: false,\n              DietAffectation: 0,\n              DietAffectationNew: 0\n            };\n            groupData.push(v);\n          }\n\n          var _loop2 = function _loop2(_i4) {\n            var GroupDiet = GroupDietFilter.filter( // eslint-disable-next-line no-shadow\n            function (GroupDiet) {\n              if (GroupDiet.idGroup === groupeId[_i4]) return GroupDiet;\n            });\n\n            var result = _this.compareDiets(GroupDiet, CowDiet);\n\n            for (var _j2 = 0; _j2 < groupData.length; _j2++) {\n              if (groupData[_j2].idGroupe === groupeId[_i4]) {\n                groupData[_j2].existance = true;\n\n                if (result) {\n                  groupData[_j2].DietAffectation = groupeId[_i4];\n                }\n              }\n            }\n\n            _this.setState({\n              groupData: groupData\n            });\n          };\n\n          for (var _i4 = 0; _i4 < groupeId.length; _i4++) {\n            _loop2(_i4);\n          }\n\n          _this.setState({\n            change: {\n              CINCOW: _this.props.detail.CINCOW,\n              name: _this.props.detail.name,\n              DateCow: _this.props.detail.DateCow,\n              weight: _this.props.detail.weight,\n              note: _this.props.detail.note\n            },\n            name: '',\n            DateCow: '',\n            weight: 0,\n            type: '',\n            CINCOW: 0,\n            Father: 1,\n            Mother: 1,\n            note: ''\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        size: \"lg\",\n        icon: faRedo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 707\n        },\n        __self: this\n      })), \"\\xA0 \\xA0 \\xA0 \\xA0\", React.createElement(Button, {\n        outline: true,\n        pill: true,\n        theme: \"primary\",\n        onClick: function onClick(e) {\n          return _this.onEdit(e, _this.props.detail.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 710\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        size: \"lg\",\n        icon: faCheck,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 716\n        },\n        __self: this\n      }))))))))));\n    };\n\n    _this.editing = function () {\n      var _this$state3 = _this.state,\n          visibleEditCow = _this$state3.visibleEditCow,\n          vache = _this$state3.vache;\n\n      _this.setState({\n        visibleEditCow: !visibleEditCow,\n        vache: vache\n      });\n    };\n\n    _this.edit = function (index, change) {\n      var CowDiet = _this.state.CowDiet;\n      var CowDiets = CowDiet[index]; // eslint-disable-next-line guard-for-in\n\n      for (var i in change) {\n        CowDiets[i] = change[i];\n      }\n\n      _this.setState({\n        CowDiet: CowDiet\n      });\n    };\n\n    _this.add = function (a) {\n      var _this$state4 = _this.state,\n          CowDiet = _this$state4.CowDiet,\n          CowDietAdd = _this$state4.CowDietAdd;\n      CowDietAdd.push(a);\n      CowDiet.push(a);\n\n      _this.setState({\n        CowDiet: CowDiet,\n        CowDietAdd: CowDietAdd\n      });\n    };\n\n    _this.delete = function (index) {\n      var _this$state5 = _this.state,\n          CowDietDeleted = _this$state5.CowDietDeleted,\n          CowDiet = _this$state5.CowDiet;\n      var CowDietD = CowDiet[index];\n      CowDietDeleted.push(CowDietD.idProgram);\n      CowDiet.splice(index, 1);\n\n      _this.setState({\n        CowDiet: CowDiet\n      }); // this.deleteMethode(CowDietDeleted.idProgram)\n\n    };\n\n    _this.handleChange = function (e) {\n      var _this$state6 = _this.state,\n          edit = _this$state6.edit,\n          vache = _this$state6.vache,\n          change = _this$state6.change;\n      change[e.target.id] = e.target.value; // nraja3 el stateel jdida eli feha ken eli tbadlou w mel chira lo5ra\n      // nthabet ken tbadlet hawka nbadalha ken tbadletech nbadelhech\n\n      _this.setState({\n        edit: edit,\n        vache: vache,\n        change: change\n      });\n    };\n\n    _this.onEdit = function (e) {\n      e.preventDefault();\n      var unicite = false;\n      var _this$state$change = _this.state.change,\n          name = _this$state$change.name,\n          CINCOW = _this$state$change.CINCOW;\n      console.log('CINCOW');\n      console.log(CINCOW === null);\n\n      if (name === '') {\n        _this.setState({\n          invalidname: false,\n          validname: true\n        });\n      } else _this.setState({\n        validname: false,\n        invalidname: true\n      });\n\n      if (CINCOW === 0) {\n        _this.setState({\n          validReference: true,\n          invalidReference: false\n        });\n      } else _this.setState({\n        validReference: false,\n        invalidReference: true\n      });\n\n      if (name !== '') {\n        var vaches = _this.props.vaches;\n        console.log('vaches');\n        console.log(vaches);\n        var vache = vaches.filter(function (Cow) {\n          if (Cow.name === name) return Cow;\n        });\n        console.log('vache');\n        console.log(vache);\n\n        if (vache.length === 0) {\n          unicite = true;\n        } else {// NotificationManager.error('Nom existant', '', 3000);\n        }\n      }\n\n      if (name !== '' && CINCOW !== 0 && unicite) {\n        var change = _this.state.change;\n        console.log(change);\n        var groupData = _this.state.groupData;\n        var viewDietCow = _this.state.viewDietCow;\n        var GroupCowNew = [];\n\n        for (var k = 0; k < groupData.length; k++) {\n          if (groupData[k].existance) {\n            GroupCowNew.push({\n              idVache: _this.props.detail.id,\n              idGroupe: groupData[k].idGroupe\n            });\n          }\n\n          if (groupData[k].DietAffectation) var DietCowEdited = groupData[k].idGroupe;\n        }\n\n        _this.props.edit(_this.props.detail.id, _this.props.index, change, groupData, _this.state.CowDiet, viewDietCow, GroupCowNew, DietCowEdited, false);\n\n        _this.editing();\n\n        _this.setState({\n          viewDietCow: false,\n          groupData: [],\n          groupeId: []\n        });\n      }\n    };\n\n    _this.NodeletedNotification = _this.NodeletedNotification.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deletedNotification = _this.deletedNotification.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.notificationDOMRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(RowVache2, [{\n    key: \"NodeletedNotification\",\n    // eslint-disable-next-line class-methods-use-this\n    value: function NodeletedNotification() {\n      NotificationManager.warning('vache non supprimer', '', 3000);\n    } // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: \"deletedNotification\",\n    value: function deletedNotification(name) {\n      NotificationManager.info(\"vache supprimer :\".concat(name));\n    }\n  }, {\n    key: \"handleChangechekbox\",\n    value: function handleChangechekbox(e, index) {\n      var groupData = this.state.groupData;\n      var v = groupData[index];\n      v.existance = !v.existance;\n\n      if (v.existance === false) {\n        if (groupData[index].DietAffectation !== 0) {\n          for (var i = 0; i < groupData.length; i++) {\n            groupData[i].DietAffectation = 0;\n            groupData[i].DietAffectationNew = 0;\n          }\n\n          v.DietAffectation = 0;\n        }\n      }\n\n      this.setState({\n        groupData: groupData\n      });\n    }\n  }, {\n    key: \"handleChangechekbox2\",\n    value: function handleChangechekbox2(DietAffectation, index) {\n      var groupData = this.state.groupData;\n\n      for (var i = 0; i < groupData.length; i++) {\n        if (i === index) {\n          var v = groupData[i];\n\n          if (v.DietAffectation === DietAffectation) {\n            v.DietAffectation = 0;\n            v.DietAffectationNew = 0;\n          } else {\n            v.DietAffectation = DietAffectation;\n            v.DietAffectationNew = DietAffectation;\n          }\n        } else {\n          groupData[i].DietAffectation = 0;\n        }\n      }\n\n      this.setState({\n        groupData: groupData,\n        viewDietCow: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 912\n        },\n        __self: this\n      }, this.renderActions());\n    }\n  }]);\n\n  return RowVache2;\n}(Component);\n\nexport default RowVache2;","map":{"version":3,"sources":["/home/aziz/Bureau/project/ap/src/views/vachesView/vache/rowVache2.js"],"names":["React","Component","Fragment","Modal","FormTextarea","FormInput","Row","ButtonGroup","Button","Col","Card","Form","FormCheckbox","CardBody","FormSelect","SlidingPane","FontAwesomeIcon","MaterialTable","faPlus","faTimes","faCheck","faRedo","faTrash","faPencilAlt","Popover","ArrowContainer","FloatingMenu","MainButton","confirmAlert","NotificationContainer","NotificationManager","RowCowDiet","FormCowDiet","Config","RowVache2","props","state","viewDietCow","visible","visibleEditCow","groupData","edit","vache","change","CINCOW","detail","name","DateCow","weight","note","CowDiet","Diets","CowDietDeleted","CowDietAdd","GroupDiet","groupeId","groupeIdCompare","invalidname","validname","invalidReference","validReference","componentDidMount","setAppElement","getDietCow","idCow","url","datas","fetch","then","reponse","json","catch","err","console","error","compareDiets","temp","array1","array2","i","length","begin","Date","end","begin1","getDate","getDay","getFullYear","end1","str","idDiet","push","begin2","end2","begin3","end3","str2","indexOf","result","showEditCow","CowGroupFilter","DietCowS","GroupDietFilter","GroupCows","filter","CowGroupe","idVache","id","idGroupe","setState","GroupCow","DietCow","group","j","v","GroupeName","existance","DietAffectation","DietAffectationNew","idGroup","hideEditCow","propreDiet","CowDietChange","CowDietListe","map","valeur","index","Diet","lengthF","DietName","delete","add","deletedCow","title","message","buttons","label","onClick","deletedNotification","NodeletedNotification","renderActions","isPopoverOpen","vaches","ListeVaches","handleChange","groupListe2","affectation","e","handleChangechekbox","Programme","handleChangechekbox2","columnsGroupe","field","log","changeFilter","isOpen","position","targetRect","popoverRect","opacity","type","Father","Mother","onEdit","editing","CowDiets","a","CowDietD","idProgram","splice","target","value","preventDefault","unicite","Cow","GroupCowNew","k","DietCowEdited","bind","notificationDOMRef","createRef","warning","info"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-unused-state */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable react/jsx-curly-brace-presence */\n/* eslint-disable react/no-access-state-in-setstate */\n/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable jsx-a11y/label-has-for */\n/* eslint-disable array-callback-return */\n/* eslint-disable consistent-return */\n/* eslint-disable no-console */\n/* eslint-disable no-redeclare */\n/* eslint-disable block-scoped-var */\n/* eslint-disable vars-on-top */\n/* eslint-disable no-var */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable no-plusplus */\n/* eslint-disable react/destructuring-assignment */\nimport React, { Component, Fragment } from 'react';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport Modal from 'react-modal';\nimport {\n  FormTextarea,\n  FormInput,\n  Row,\n  ButtonGroup,\n  Button,\n  Col,\n  Card,\n  Form,\n  FormCheckbox,\n  CardBody,\n  FormSelect\n} from 'shards-react';\nimport SlidingPane from 'react-sliding-pane';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport MaterialTable from 'material-table';\nimport 'rodal/lib/rodal.css';\n\nimport {\n  faPlus,\n  faTimes,\n  faCheck,\n  faRedo,\n  faTrash,\n  faPencilAlt\n} from '@fortawesome/free-solid-svg-icons';\nimport Popover, { ArrowContainer } from 'react-tiny-popover';\nimport { FloatingMenu, MainButton } from 'react-floating-button-menu';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport {\n  NotificationContainer,\n  NotificationManager\n} from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport RowCowDiet from './CowDiet/RowCowDiet';\nimport FormCowDiet from './CowDiet/FormCowDiet';\nimport { Config } from '../../../configue';\nimport '../hover.css';\nimport '../../../style/scrollerdesign.css';\nimport '../../../style/scrollerdesign2.css';\n\nclass RowVache2 extends Component {\n  state = {\n    viewDietCow: false,\n    // eslint-disable-next-line react/no-unused-state\n    visible: false,\n    visibleEditCow: false,\n    groupData: [],\n\n    edit: false,\n    vache: [],\n    change: {\n      CINCOW: this.props.detail.CINCOW,\n      name: this.props.detail.name,\n      DateCow: this.props.detail.DateCow,\n      weight: this.props.detail.weight,\n      note: this.props.detail.note\n    },\n\n    CowDiet: [],\n    // eslint-disable-next-line react/no-unused-state\n    Diets: [],\n    CowDietDeleted: [],\n    CowDietAdd: [],\n    // eslint-disable-next-line react/no-unused-state\n    GroupDiet: [],\n    groupeId: [],\n    // eslint-disable-next-line react/no-unused-state\n    groupeIdCompare: [],\n    invalidname: false,\n    validname: false,\n    invalidReference: false,\n    validReference: false\n  };\n\n  constructor(props) {\n    super(props);\n    this.NodeletedNotification = this.NodeletedNotification.bind(this);\n    this.deletedNotification = this.deletedNotification.bind(this);\n    this.notificationDOMRef = React.createRef();\n  }\n\n  componentDidMount = () => {\n    Modal.setAppElement('body');\n  };\n\n  getDietCow = idCow => {\n    const url = `${Config.url}/DietCow?idCow=`;\n    // eslint-disable-next-line no-undef\n    const datas = fetch(url + idCow)\n      .then(reponse => {\n        return reponse.json();\n      })\n      // eslint-disable-next-line no-console\n      .catch(err => console.error(err));\n\n    return datas;\n  };\n\n  compareDiets = (CowDiet, GroupDiet) => {\n    const temp = [];\n    const array1 = [];\n    const array2 = [];\n    // eslint-disable-next-line no-plusplus\n    for (let i = 0; i < GroupDiet.length; i++) {\n      const begin = new Date(GroupDiet[i].begin);\n      const end = new Date(GroupDiet[i].end);\n      const begin1 = `${begin.getDate()}${begin.getDay()}${begin.getFullYear()}`;\n      const end1 = `${end.getDate()}${end.getDay()}${end.getFullYear()}`;\n      const str = `${GroupDiet[i].idDiet + begin1 + end1}`;\n      array1.push(str);\n    }\n\n    for (let i = 0; i < CowDiet.length; i++) {\n      const begin2 = new Date(CowDiet[i].begin);\n      const end2 = new Date(CowDiet[i].end);\n      const begin3 = `${begin2.getDate()}${begin2.getDay()}${begin2.getFullYear()}`;\n      const end3 = `${end2.getDate()}${end2.getDay()}${end2.getFullYear()}`;\n      const str2 = `${CowDiet[i].idDiet + begin3 + end3}`;\n\n      array2.push(str2);\n    }\n\n    // eslint-disable-next-line vars-on-top\n    for (var i in array1) {\n      if (array2.indexOf(array1[i]) === -1) temp.push(array1[i]);\n    }\n    // eslint-disable-next-line block-scoped-var\n    for (i in array2) {\n      // eslint-disable-next-line block-scoped-var\n      if (array1.indexOf(array2[i]) === -1) temp.push(array2[i]);\n    }\n\n    if (temp.length === 0) {\n      var result = true;\n    } else var result = false;\n\n    return result;\n  };\n\n  showEditCow = () => {\n    const { CowGroupFilter, DietCowS, GroupDietFilter } = this.props;\n\n    const { groupeId, groupData } = this.state;\n\n    // eslint-disable-next-line array-callback-return\n    // eslint-disable-next-line consistent-return\n    // eslint-disable-next-line array-callback-return\n    const GroupCows = CowGroupFilter.filter(CowGroupe => {\n      if (CowGroupe.idVache === this.props.detail.id) return CowGroupe;\n    });\n\n    for (let i = 0; i < GroupCows.length; i++) {\n      groupeId.push(GroupCows[i].idGroupe);\n    }\n    this.setState({\n      // eslint-disable-next-line react/no-unused-state\n      GroupCow: GroupCows,\n      groupeId\n    });\n\n    // eslint-disable-next-line array-callback-return\n    const CowDiet = DietCowS.filter(DietCow => {\n      if (DietCow.idCow === this.props.detail.id) return DietCow;\n    });\n    this.setState({\n      CowDiet\n    });\n    const { group } = this.props;\n    for (let j = 0; j < group.length; j++) {\n      const v = {\n        idGroupe: group[j].idGroupe,\n        GroupeName: group[j].GroupeName,\n        note: group[j].note,\n        existance: false,\n        DietAffectation: 0,\n        DietAffectationNew: 0\n      };\n      groupData.push(v);\n    }\n    for (let i = 0; i < groupeId.length; i++) {\n      // eslint-disable-next-line array-callback-return\n      // eslint-disable-next-line no-shadow\n      const GroupDiet = GroupDietFilter.filter(GroupDiet => {\n        if (GroupDiet.idGroup === groupeId[i]) return GroupDiet;\n      });\n      const result = this.compareDiets(GroupDiet, CowDiet);\n      for (let j = 0; j < groupData.length; j++) {\n        if (groupData[j].idGroupe === groupeId[i]) {\n          groupData[j].existance = true;\n          if (result) {\n            groupData[j].DietAffectation = groupeId[i];\n          }\n        }\n      }\n\n      this.setState({\n        groupData\n      });\n    }\n    /** ************************************************************ */\n\n    this.setState({\n      visibleEditCow: true\n    });\n  };\n\n  hideEditCow = () => {\n    this.setState({ visibleEditCow: false, viewDietCow: false });\n  };\n\n  propreDiet = () => {\n    return (\n      <Row>\n        <Col>\n          <Button\n            outline\n            pill\n            theme=\"info\"\n            onClick={() => {\n              const { groupData, viewDietCow } = this.state;\n              for (let i = 0; i < groupData.length; i++) {\n                groupData[i].DietAffectation = 0;\n              }\n              this.setState({\n                groupData,\n                viewDietCow: !viewDietCow\n              });\n            }}\n          >\n            <FontAwesomeIcon icon={faPlus} /> &nbsp; &nbsp; regime special\n          </Button>\n        </Col>{' '}\n        <Col lg=\"4\"> </Col>\n      </Row>\n    );\n  };\n\n  CowDietChange = () => {\n    const { CowDiet } = this.state;\n    // eslint-disable-next-line prefer-destructuring\n    const length = CowDiet.length;\n\n    const CowDietListe = length ? (\n      CowDiet.map((valeur, index) => {\n        const { Diet } = this.props;\n        const lengthF = Diet.length;\n        for (let i = 0; i < lengthF; i++) {\n          if (Diet[i].idDiet === valeur.idDiet) {\n            // eslint-disable-next-line prefer-destructuring\n            var DietName = Diet[i].DietName;\n          }\n        }\n        return (\n          <RowCowDiet\n            Diet={Diet}\n            DietName={DietName}\n            detail={valeur}\n            // eslint-disable-next-line react/no-array-index-key\n            key={index}\n            index={index}\n            delete={this.delete}\n            edit={this.edit}\n          />\n        );\n      })\n    ) : (\n      <p>no more</p>\n    );\n    return (\n      <Row>\n        <Col className=\"form-group\">\n          <table className=\"tables2 table mb-0\">\n            <thead className=\"thead-dark thead2\">\n              <tr>\n                <th scope=\"col\" className=\"border-0 th2\">\n                  Regime\n                </th>\n                <th scope=\"col\" className=\"border-0 th2\">\n                  Debut\n                </th>\n                <th scope=\"col\" className=\"border-0 th2\">\n                  Fin\n                </th>\n                <th scope=\"col\" className=\"border-0 th2\">\n                  action\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"tbody3\">{CowDietListe}</tbody>\n\n            <FormCowDiet Diet={this.props.Diet} add={this.add} />\n          </table>\n        </Col>\n      </Row>\n    );\n  };\n\n  deletedCow = () => {\n    confirmAlert({\n      title: 'supprimer ',\n      message: 'Vous etes sur de supprimer cette vache ?',\n      buttons: [\n        {\n          label: 'Yes',\n          onClick: () => {\n            this.deletedNotification(this.props.detail.name);\n            this.props.delete(this.props.index);\n          }\n        },\n        {\n          label: 'No',\n          onClick: () => {\n            this.NodeletedNotification();\n          }\n        }\n      ]\n    });\n  };\n\n  renderActions = () => {\n    const { isPopoverOpen } = this.state;\n\n    // eslint-disable-next-line prefer-destructuring\n\n    const vache = this.props.vaches;\n    const ListeVaches = vache.map((valeur, index) => {\n      return (\n        // eslint-disable-next-line react/no-array-index-key\n        <option value={valeur.id} key={index} onChange={this.handleChange}>\n          {valeur.name}\n        </option>\n      );\n    });\n    const { groupData } = this.state;\n    const groupListe2 = groupData.map((valeur, index) => {\n      const v = {\n        idVache: valeur.id,\n        name: valeur.GroupeName,\n\n        affectation: (\n          <FormCheckbox\n            toggle\n            small\n            checked={valeur.existance}\n            onChange={e => this.handleChangechekbox(e, index)}\n          />\n        ),\n        Programme: valeur.existance ? (\n          <FormCheckbox\n            inline\n            name=\"sport\"\n            checked={valeur.DietAffectation === valeur.idGroupe}\n            onChange={() => {\n              this.handleChangechekbox2(valeur.idGroupe, index);\n            }}\n          >\n            Program {index}\n          </FormCheckbox>\n        ) : (\n          <Fragment />\n        )\n      };\n      return v;\n    });\n    const columnsGroupe = [\n      {\n        title: 'Nom Groupe',\n        field: 'name'\n      },\n\n      {\n        title: 'affectation',\n        field: 'affectation'\n      },\n      {\n        title: 'Programme',\n        field: 'Programme'\n      }\n    ];\n    console.log(this.state.change.note);\n    return (\n      <Fragment>\n        <ButtonGroup>\n          <Button\n            outline\n            pill\n            theme=\"success\"\n            onClick={() => this.showEditCow()}\n          >\n            <FontAwesomeIcon size=\"lg\" icon={faPencilAlt} />\n          </Button>\n\n          <Button\n            outline\n            pill\n            theme=\"danger\"\n            onClick={() => {\n              this.deletedCow();\n            }}\n          >\n            <FontAwesomeIcon size=\"lg\" icon={faTrash} />\n          </Button>\n        </ButtonGroup>\n        <NotificationContainer />\n\n        <SlidingPane\n          className=\"some-custom-class\"\n          overlayClassName=\"some-custom-overlay-class\"\n          title=\"Fermer\"\n          subtitle=\"Fermer ajout de vache.\"\n          width=\"58%\"\n          from=\"left\"\n          isOpen={this.state.visibleEditCow}\n          onRequestClose={() => {\n            // triggered on \"<\" on left top click or on outside click\n            this.setState({\n              visibleEditCow: false,\n              groupData: []\n            });\n            this.props.changeFilter(false);\n          }}\n        >\n          <Row>\n            <Col lg=\"4\" md=\"6\" sm=\"12\" className=\"mb-4\" />\n            <Col lg=\"8\" md=\"6\" sm=\"12\" className=\"mb-4\">\n              <Form>\n                <Row form>\n                  <Col md=\"6\">\n                    <label htmlFor=\"CINCOW\">reference</label>\n                    <FormInput\n                      valid={this.state.invalidReference}\n                      invalid={this.state.validReference}\n                      id=\"CINCOW\"\n                      type=\"number\"\n                      onChange={this.handleChange}\n                      value={this.state.change.CINCOW}\n                    />\n                  </Col>\n                  <Col md=\"6\" className=\"form-group\">\n                    <label htmlFor=\"Code\">nom vache</label>\n                    <FormInput\n                      valid={this.state.invalidname}\n                      invalid={this.state.validname}\n                      id=\"name\"\n                      type=\"text\"\n                      onChange={this.handleChange}\n                      value={this.state.change.name}\n                    />\n                  </Col>\n                </Row>\n                <Row form>\n                  <Col md=\"6\" className=\"form-group\">\n                    <label htmlFor=\"DateCow\">date </label>\n                    <FormInput\n                      id=\"DateCow\"\n                      type=\"date\"\n                      placeholder=\"DateCow\"\n                      onChange={this.handleChange}\n                      value={this.state.change.DateCow}\n                    />\n                  </Col>\n                  <Col md=\"6\" className=\"form-group\">\n                    <label htmlFor=\"poid\">poid</label>\n                    <FormInput\n                      id=\"weight\"\n                      type=\"number\"\n                      placeholder=\"poid du Vache\"\n                      onChange={this.handleChange}\n                      value={this.state.change.weight}\n                    />\n                  </Col>\n                </Row>\n                <Row form>\n                  <Col md=\"6\" className=\"form-group\">\n                    <label htmlFor=\"Father\">pere</label>\n                    <FormSelect id=\"Father\" onChange={this.handleChange}>\n                      <option>---</option>\n                      {ListeVaches}\n                    </FormSelect>\n                  </Col>\n\n                  <Col md=\"6\" className=\"form-group\">\n                    <label htmlFor=\"Mother\">mere</label>\n                    <FormSelect id=\"Mother\" onChange={this.handleChange}>\n                      <option>---</option>\n                      {ListeVaches}\n                    </FormSelect>\n                  </Col>\n                </Row>\n                <Row form>\n                  <Col md=\"6\" className=\"form-group\">\n                    <label htmlFor=\"type\">type</label>\n                    <FormSelect\n                      id=\"type\"\n                      onChange={this.handleChange}\n                      defaultValue=\"sein\"\n                    >\n                      <option value=\"sein\">sein</option>\n\n                      <option value=\"encinte\">encinte</option>\n                      <option value=\"malade\">malade</option>\n                    </FormSelect>\n                  </Col>\n                  <Col md=\"6\">\n                    <center>\n                      <FloatingMenu\n                        slideSpeed={500}\n                        direction=\"top\"\n                        spacing={10}\n                        isOpen={this.state.isOpen}\n                      >\n                        <MainButton\n                          iconResting={\n                            <div>\n                              <FontAwesomeIcon size=\"lg\" icon={faPlus} />\n                              <br />\n                              <label htmlFor=\"note\">Note</label>\n                            </div>\n                          }\n                          iconActive={\n                            <FontAwesomeIcon size=\"lg\" icon={faTimes} />\n                          }\n                          onClick={() =>\n                            this.setState({ isOpen: !this.state.isOpen })\n                          }\n                          size={62}\n                        />\n\n                        <Popover\n                          isOpen={isPopoverOpen}\n                          position={['bottom', 'right', 'left', 'top']}\n                          padding={30}\n                          onClickOutside={() =>\n                            this.setState({ isPopoverOpen: false })\n                          }\n                          content={({ position, targetRect, popoverRect }) => (\n                            <ArrowContainer\n                              position={position}\n                              targetRect={targetRect}\n                              popoverRect={popoverRect}\n                              arrowColor={'#d3d3d3'}\n                              arrowSize={17}\n                              arrowStyle={{ opacity: 0.7 }}\n                            >\n                              <Card>\n                                <CardBody className=\"p-3 pb-3\">\n                                  <div\n                                    style={{ opacity: 0.7 }}\n                                    onClick={() =>\n                                      this.setState({\n                                        isPopoverOpen: !isPopoverOpen\n                                      })\n                                    }\n                                  />\n                                  <br />\n                                  <FormTextarea\n                                    className=\"note\"\n                                    size=\"lg\"\n                                    cols=\"90\"\n                                    rows=\"20\"\n                                    id=\"note\"\n                                    type=\"text\"\n                                    placeholder=\"note du Groupe\"\n                                    onChange={this.handleChange}\n                                    value={this.state.change.note}\n                                  />\n                                </CardBody>\n                              </Card>\n                            </ArrowContainer>\n                          )}\n                        >\n                          <div\n                            onClick={() =>\n                              this.setState({ isPopoverOpen: !isPopoverOpen })\n                            }\n                          />\n                        </Popover>\n                      </FloatingMenu>\n                    </center>\n                  </Col>\n                </Row>\n\n                <MaterialTable\n                  columns={columnsGroupe}\n                  data={groupListe2}\n                  title={'Groupe'}\n                />\n                {this.state.viewDietCow\n                  ? this.CowDietChange()\n                  : this.propreDiet()}\n                <br />\n\n                <Row form>\n                  <Col />\n                  <Col className=\"form-group\">\n                    <center>\n                      <Button\n                        outline\n                        pill\n                        theme=\"danger\"\n                        onClick={() => {\n                          const { CowGroupFilter } = this.props;\n                          const { DietCowS } = this.props;\n                          const { GroupDietFilter } = this.props;\n                          const groupeId = [];\n                          // eslint-disable-next-line no-shadow\n                          const groupData = [];\n                          const GroupCows = CowGroupFilter.filter(CowGroupe => {\n                            if (CowGroupe.idVache === this.props.detail.id)\n                              return CowGroupe;\n                          });\n\n                          for (let i = 0; i < GroupCows.length; i++) {\n                            groupeId.push(GroupCows[i].idGroupe);\n                          }\n                          this.setState({\n                            // eslint-disable-next-line react/no-unused-state\n                            GroupCow: GroupCows,\n                            groupeId\n                          });\n\n                          const CowDiet = DietCowS.filter(DietCow => {\n                            if (DietCow.idCow === this.props.detail.id)\n                              return DietCow;\n                          });\n                          this.setState({\n                            CowDiet\n                          });\n                          const { group } = this.props;\n                          for (let j = 0; j < group.length; j++) {\n                            const v = {\n                              idGroupe: group[j].idGroupe,\n                              GroupeName: group[j].GroupeName,\n                              note: group[j].note,\n                              existance: false,\n                              DietAffectation: 0,\n                              DietAffectationNew: 0\n                            };\n                            groupData.push(v);\n                          }\n                          for (let i = 0; i < groupeId.length; i++) {\n                            const GroupDiet = GroupDietFilter.filter(\n                              // eslint-disable-next-line no-shadow\n                              GroupDiet => {\n                                if (GroupDiet.idGroup === groupeId[i])\n                                  return GroupDiet;\n                              }\n                            );\n                            const result = this.compareDiets(\n                              GroupDiet,\n                              CowDiet\n                            );\n                            for (let j = 0; j < groupData.length; j++) {\n                              if (groupData[j].idGroupe === groupeId[i]) {\n                                groupData[j].existance = true;\n                                if (result) {\n                                  groupData[j].DietAffectation = groupeId[i];\n                                }\n                              }\n                            }\n\n                            this.setState({\n                              groupData\n                            });\n                          }\n                          this.setState({\n                            change: {\n                              CINCOW: this.props.detail.CINCOW,\n                              name: this.props.detail.name,\n                              DateCow: this.props.detail.DateCow,\n                              weight: this.props.detail.weight,\n                              note: this.props.detail.note\n                            },\n                            name: '',\n                            DateCow: '',\n                            weight: 0,\n                            type: '',\n                            CINCOW: 0,\n                            Father: 1,\n                            Mother: 1,\n                            note: ''\n                          });\n                        }}\n                      >\n                        <FontAwesomeIcon size=\"lg\" icon={faRedo} />\n                      </Button>\n                      &nbsp; &nbsp; &nbsp; &nbsp;\n                      <Button\n                        outline\n                        pill\n                        theme=\"primary\"\n                        onClick={e => this.onEdit(e, this.props.detail.id)}\n                      >\n                        <FontAwesomeIcon size=\"lg\" icon={faCheck} />\n                      </Button>\n                    </center>\n                  </Col>\n                </Row>\n              </Form>\n            </Col>\n          </Row>\n        </SlidingPane>\n      </Fragment>\n    );\n  };\n\n  editing = () => {\n    const { visibleEditCow, vache } = this.state;\n    this.setState({\n      visibleEditCow: !visibleEditCow,\n      vache\n    });\n  };\n\n  /** **********************COW & DIET **************** */\n\n  edit = (index, change) => {\n    const { CowDiet } = this.state;\n    const CowDiets = CowDiet[index];\n    // eslint-disable-next-line guard-for-in\n    for (const i in change) {\n      CowDiets[i] = change[i];\n    }\n\n    this.setState({\n      CowDiet\n    });\n  };\n\n  add = a => {\n    const { CowDiet, CowDietAdd } = this.state;\n    CowDietAdd.push(a);\n    CowDiet.push(a);\n\n    this.setState({\n      CowDiet,\n      CowDietAdd\n    });\n  };\n\n  delete = index => {\n    const { CowDietDeleted, CowDiet } = this.state;\n    const CowDietD = CowDiet[index];\n    CowDietDeleted.push(CowDietD.idProgram);\n    CowDiet.splice(index, 1);\n    this.setState({\n      CowDiet\n    });\n    // this.deleteMethode(CowDietDeleted.idProgram)\n  };\n\n  /** ******************************************************* */\n  handleChange = e => {\n    const { edit, vache, change } = this.state;\n    change[e.target.id] = e.target.value;\n\n    // nraja3 el stateel jdida eli feha ken eli tbadlou w mel chira lo5ra\n    // nthabet ken tbadlet hawka nbadalha ken tbadletech nbadelhech\n\n    this.setState({\n      edit,\n      vache,\n      change\n    });\n  };\n\n  onEdit = e => {\n    e.preventDefault();\n    let unicite = false;\n    const { name, CINCOW } = this.state.change;\n    console.log('CINCOW');\n    console.log(CINCOW===null);\n    if (name === '') {\n      this.setState({ invalidname: false, validname: true });\n    } else\n      this.setState({\n        validname: false,\n        invalidname: true\n      });\n    if (CINCOW === 0) {\n      this.setState({\n        validReference: true,\n        invalidReference: false\n      });\n    } else\n      this.setState({\n        validReference: false,\n        invalidReference: true\n      });\n    if (name !== '') {\n      const { vaches } = this.props;\n      console.log('vaches');\n      console.log(vaches);\n      const vache = vaches.filter(Cow => {\n        if (Cow.name === name) return Cow;\n      });\n      console.log('vache');\n      console.log(vache);\n      if (vache.length === 0) {\n        unicite = true;\n      } else {\n        // NotificationManager.error('Nom existant', '', 3000);\n      }\n    }\n    if (name !== '' && CINCOW !== 0 && unicite) {\n      const { change } = this.state;\n      console.log(change);\n      const { groupData } = this.state;\n      const { viewDietCow } = this.state;\n\n      const GroupCowNew = [];\n\n      for (let k = 0; k < groupData.length; k++) {\n        if (groupData[k].existance) {\n          GroupCowNew.push({\n            idVache: this.props.detail.id,\n            idGroupe: groupData[k].idGroupe\n          });\n        }\n        if (groupData[k].DietAffectation)\n          var DietCowEdited = groupData[k].idGroupe;\n      }\n      this.props.edit(\n        this.props.detail.id,\n        this.props.index,\n        change,\n        groupData,\n        this.state.CowDiet,\n        viewDietCow,\n        GroupCowNew,\n        DietCowEdited,\n        false\n      );\n      this.editing();\n      this.setState({\n        viewDietCow: false,\n        groupData: [],\n        groupeId: []\n      });\n    }\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  NodeletedNotification() {\n    NotificationManager.warning('vache non supprimer', '', 3000);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  deletedNotification(name) {\n    NotificationManager.info(`vache supprimer :${name}`);\n  }\n\n  handleChangechekbox(e, index) {\n    const { groupData } = this.state;\n    const v = groupData[index];\n    v.existance = !v.existance;\n    if (v.existance === false) {\n      if (groupData[index].DietAffectation !== 0) {\n        for (let i = 0; i < groupData.length; i++) {\n          groupData[i].DietAffectation = 0;\n          groupData[i].DietAffectationNew = 0;\n        }\n        v.DietAffectation = 0;\n      }\n    }\n    this.setState({ groupData });\n  }\n\n  handleChangechekbox2(DietAffectation, index) {\n    const { groupData } = this.state;\n    for (let i = 0; i < groupData.length; i++) {\n      if (i === index) {\n        const v = groupData[i];\n        if (v.DietAffectation === DietAffectation) {\n          v.DietAffectation = 0;\n          v.DietAffectationNew = 0;\n        } else {\n          v.DietAffectation = DietAffectation;\n          v.DietAffectationNew = DietAffectation;\n        }\n      } else {\n        groupData[i].DietAffectation = 0;\n      }\n    }\n\n    this.setState({ groupData, viewDietCow: false });\n  }\n\n  render() {\n    return <Fragment>{this.renderActions()}</Fragment>;\n  }\n}\n\nexport default RowVache2;\n"]},"metadata":{},"sourceType":"module"}